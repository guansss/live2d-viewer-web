{"version":3,"file":"js/app.751a26ef.js","mappings":"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","sources":["webpack://live2d-viewer-web/./src/App.vue?b5d1","webpack://live2d-viewer-web/./src/components/ModelList.vue?a47c","webpack://live2d-viewer-web/./src/utils/index.ts","webpack://live2d-viewer-web/./src/app/helpers.ts","webpack://live2d-viewer-web/./src/app/data.ts","webpack://live2d-viewer-web/./src/app/patches.ts","webpack://live2d-viewer-web/./src/app/zip.ts","webpack://live2d-viewer-web/./src/app/Filter.ts","webpack://live2d-viewer-web/./src/app/Live2DModel.ts","webpack://live2d-viewer-web/./src/tools/dragging.ts","webpack://live2d-viewer-web/./src/app/ModelLoadingState.ts","webpack://live2d-viewer-web/./src/app/ModelEntity.ts","webpack://live2d-viewer-web/./src/utils/storage.ts","webpack://live2d-viewer-web/./src/app/PixiApp.ts","webpack://live2d-viewer-web/./src/app/App.ts","webpack://live2d-viewer-web/./src/components/ModelList.vue?1af4","webpack://live2d-viewer-web/./src/components/ModelList.vue?2615","webpack://live2d-viewer-web/./src/components/ModelList.vue","webpack://live2d-viewer-web/./src/components/ModelCreation.vue?c6cc","webpack://live2d-viewer-web/./src/components/ModelPicker.vue?8334","webpack://live2d-viewer-web/./src/components/ModelPicker.vue?8f1c","webpack://live2d-viewer-web/./src/components/ModelPicker.vue?2a45","webpack://live2d-viewer-web/./src/components/ModelPicker.vue","webpack://live2d-viewer-web/./src/components/ModelCreation.vue?e4d3","webpack://live2d-viewer-web/./src/components/ModelCreation.vue?8cf8","webpack://live2d-viewer-web/./src/components/ModelCreation.vue","webpack://live2d-viewer-web/./src/components/ModelEditor.vue?ff07","webpack://live2d-viewer-web/./src/components/ModelEditor.vue?4aca","webpack://live2d-viewer-web/./src/components/ModelEditor.vue?1f6c","webpack://live2d-viewer-web/./src/components/ModelEditor.vue","webpack://live2d-viewer-web/./src/components/DropZone.vue?0315","webpack://live2d-viewer-web/./src/utils/arr.ts","webpack://live2d-viewer-web/./src/utils/file.ts","webpack://live2d-viewer-web/./src/app/upload.ts","webpack://live2d-viewer-web/./src/tools/Background.ts","webpack://live2d-viewer-web/./src/components/DropZone.vue?8347","webpack://live2d-viewer-web/./src/components/DropZone.vue?a42e","webpack://live2d-viewer-web/./src/components/DropZone.vue","webpack://live2d-viewer-web/./src/components/Settings.vue?4254","webpack://live2d-viewer-web/./src/components/Settings.vue?8f62","webpack://live2d-viewer-web/./src/components/Settings.vue?36da","webpack://live2d-viewer-web/./src/components/Settings.vue","webpack://live2d-viewer-web/./src/components/ModelInfo.vue?acd1","webpack://live2d-viewer-web/./src/components/ModelInfo.vue?6a08","webpack://live2d-viewer-web/./src/components/ModelInfo.vue?1b4f","webpack://live2d-viewer-web/./src/components/ModelInfo.vue","webpack://live2d-viewer-web/./src/App.vue?38a5","webpack://live2d-viewer-web/./src/App.vue?c311","webpack://live2d-viewer-web/./src/App.vue","webpack://live2d-viewer-web/./src/plugins/vuetify.ts","webpack://live2d-viewer-web/./src/main.ts","webpack://live2d-viewer-web/webpack/bootstrap","webpack://live2d-viewer-web/webpack/runtime/chunk loaded","webpack://live2d-viewer-web/webpack/runtime/compat get default export","webpack://live2d-viewer-web/webpack/runtime/define property getters","webpack://live2d-viewer-web/webpack/runtime/global","webpack://live2d-viewer-web/webpack/runtime/hasOwnProperty shorthand","webpack://live2d-viewer-web/webpack/runtime/make namespace object","webpack://live2d-viewer-web/webpack/runtime/node module decorator","webpack://live2d-viewer-web/webpack/runtime/jsonp chunk loading","webpack://live2d-viewer-web/webpack/startup"],"sourcesContent":["import { VApp } from 'vuetify/lib/components/VApp';\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VBtnToggle } from 'vuetify/lib/components/VBtnToggle';\nimport { VContainer } from 'vuetify/lib/components/VGrid';\nimport { VDivider } from 'vuetify/lib/components/VDivider';\nimport { VFabTransition } from 'vuetify/lib/components/transitions';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VMain } from 'vuetify/lib/components/VMain';\nimport { VNavigationDrawer } from 'vuetify/lib/components/VNavigationDrawer';\nimport { VSnackbar } from 'vuetify/lib/components/VSnackbar';\nimport { VSpacer } from 'vuetify/lib/components/VGrid';\nimport { VToolbar } from 'vuetify/lib/components/VToolbar';\nimport { VToolbarTitle } from 'vuetify/lib/components/VToolbar';\nimport { VTooltip } from 'vuetify/lib/components/VTooltip';\n\nvar render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c(VApp,[_c(VNavigationDrawer,{attrs:{\"absolute\":\"\",\"stateless\":\"\",\"width\":_vm.drawerWidth},on:{\"transitionend\":function($event){!_vm.drawer && (_vm.drawerSwitch=true)}},model:{value:(_vm.drawer),callback:function ($$v) {_vm.drawer=$$v},expression:\"drawer\"}},[_c(VToolbar,{attrs:{\"color\":\"primary\"}},[_c(VToolbarTitle,[_vm._v(\"Live2D Viewer\")]),_c(VSpacer),_c(VBtnToggle,{attrs:{\"group\":\"\",\"rounded\":\"\"},model:{value:(_vm.tab),callback:function ($$v) {_vm.tab=$$v},expression:\"tab\"}},[_c(VBtn,{attrs:{\"icon\":\"\"}},[_c(VIcon,[_vm._v(\"mdi-cog\")])],1)],1),_c(VBtn,{staticClass:\"ml-1\",attrs:{\"icon\":\"\"},on:{\"click\":function($event){return _vm.showUI(false)}}},[_c(VIcon,[_vm._v(\"mdi-close\")])],1)],1),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.tab===undefined),expression:\"tab===undefined\"}],staticClass:\"model-page\"},[_c('div',{staticClass:\"header pa-3\"},[_c('div',{staticClass:\"d-flex align-center\"},[_c('div',{staticClass:\"text-h4\"},[_vm._v(_vm._s('#' + _vm.selectedModelID))]),_c(VSpacer),_c(VBtn,{staticClass:\"mr-n3\",attrs:{\"icon\":\"\",\"width\":\"48\",\"height\":\"48\"},on:{\"click\":function($event){_vm.creation.dialog=true}}},[_c(VIcon,[_vm._v(\"mdi-plus\")])],1)],1),_c(VTooltip,{attrs:{\"top\":\"\",\"disabled\":!_vm.selectedModelID},scopedSlots:_vm._u([{key:\"activator\",fn:function({ on, attrs }){return [_c('div',_vm._g(_vm._b({class:['model-name mt-2 text-h5',{valid:_vm.selectedModelID}],on:{\"click\":function($event){_vm.selectedModelID&&(_vm.modelInfoDialog=true)}}},'div',attrs,false),on),[_vm._v(\" \"+_vm._s(_vm.selectedModelID ? _vm.modelName : 'Press + to create a model')+\" \")])]}}])},[_vm._v(\" Show info \")])],1),_c(VDivider),_c('ModelEditor',{attrs:{\"id\":_vm.selectedModelID,\"visible\":_vm.drawer&&_vm.tab===undefined}})],1),_c('Settings',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.tab===0),expression:\"tab===0\"}]})],1),_c(VMain,{style:({paddingLeft:`${_vm.drawerWidth}px !important`})},[_c(VContainer,{staticClass:\"pa-0 fill-height flex-column\",attrs:{\"fluid\":\"\"}},[_c(VSpacer),_c('ModelList',{attrs:{\"show\":_vm.modelList.visible},model:{value:(_vm.selectedModelID),callback:function ($$v) {_vm.selectedModelID=$$v},expression:\"selectedModelID\"}})],1),_c('ModelCreation',{on:{\"create\":function($event){_vm.selectedModelID=$event}},model:{value:(_vm.creation.dialog),callback:function ($$v) {_vm.$set(_vm.creation, \"dialog\", $$v)},expression:\"creation.dialog\"}}),_c('ModelInfo',{attrs:{\"id\":_vm.selectedModelID},model:{value:(_vm.modelInfoDialog),callback:function ($$v) {_vm.modelInfoDialog=$$v},expression:\"modelInfoDialog\"}})],1),_c(VFabTransition,[_c(VBtn,{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.drawerSwitch),expression:\"drawerSwitch\"}],attrs:{\"fab\":\"\",\"top\":\"\",\"left\":\"\",\"absolute\":\"\",\"dark\":\"\",\"color\":\"accent\"},on:{\"click\":function($event){return _vm.showUI(true)}}},[_c(VIcon,[_vm._v(\"mdi-plus\")])],1)],1),_c('DropZone',{on:{\"create\":function($event){_vm.selectedModelID=$event},\"error\":_vm.error}}),_c(VSnackbar,{attrs:{\"timeout\":_vm.snackbar.timeout},scopedSlots:_vm._u([{key:\"action\",fn:function({ attrs }){return [_c(VBtn,_vm._b({attrs:{\"icon\":\"\"},on:{\"click\":function($event){_vm.snackbar.visible=false}}},'v-btn',attrs,false),[_c(VIcon,[_vm._v(\"mdi-close\")])],1)]}}]),model:{value:(_vm.snackbar.visible),callback:function ($$v) {_vm.$set(_vm.snackbar, \"visible\", $$v)},expression:\"snackbar.visible\"}},[_vm._v(\" \"+_vm._s(_vm.snackbar.message)+\" \")])],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardTitle } from 'vuetify/lib/components/VCard';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VImg } from 'vuetify/lib/components/VImg';\nimport { VItem } from 'vuetify/lib/components/VItemGroup';\nimport { VItemGroup } from 'vuetify/lib/components/VItemGroup';\nimport { VProgressCircular } from 'vuetify/lib/components/VProgressCircular';\nimport { VRow } from 'vuetify/lib/components/VGrid';\nimport { VSheet } from 'vuetify/lib/components/VSheet';\nimport { VSlideYReverseTransition } from 'vuetify/lib/components/transitions';\nimport { VSpacer } from 'vuetify/lib/components/VGrid';\nimport { VTooltip } from 'vuetify/lib/components/VTooltip';\n\nvar render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c(VSlideYReverseTransition,[(_vm.show&&_vm.models.length)?_c(VSheet,{staticClass:\"model-list\",attrs:{\"width\":\"100%\"}},[_c(VItemGroup,{staticClass:\"flex-grow-1\",attrs:{\"mandatory\":\"\",\"value\":_vm.selectedIndex},on:{\"change\":_vm.select}},[_c('transition-group',{staticClass:\"model-group d-flex pa-1 pa-xl-2\",attrs:{\"name\":\"move\"}},_vm._l((_vm.models),function(model,i){return _c(VItem,{key:model.id,scopedSlots:_vm._u([{key:\"default\",fn:function({ active, toggle }){return [_c(VCard,{staticClass:\"ma-1 ma-xl-2\",attrs:{\"color\":model.error?'#631f1f':active?'grey darken-2':'grey darken-3'},on:{\"click\":toggle}},[_c(VTooltip,{attrs:{\"top\":\"\",\"disabled\":!model.error},scopedSlots:_vm._u([{key:\"activator\",fn:function({ on, attrs }){return [_c(VImg,_vm._g(_vm._b({attrs:{\"src\":model.thumbnail,\"width\":model.error?_vm.paneHeight:model.aspectRatio*_vm.paneHeight,\"height\":_vm.paneHeight},scopedSlots:_vm._u([{key:\"placeholder\",fn:function(){return [_c(VRow,{staticClass:\"fill-height ma-0\",attrs:{\"align\":\"center\",\"justify\":\"center\"}},[(!model.error)?_c(VProgressCircular,{attrs:{\"indeterminate\":\"\",\"color\":\"grey lighten-5\"}}):_c(VIcon,[_vm._v(\"mdi-alert-circle\")])],1)]},proxy:true}],null,true)},'v-img',attrs,false),on),[_c(VCardTitle,{staticClass:\"ml-1 pa-0 flex-nowrap text-subtitle-2 text-xl-subtitle-1\"},[_c('span',{staticClass:\"model-item-title text-truncate\"},[_vm._v(_vm._s('#' + model.id + ' ' + model.name))]),_c(VSpacer),(active)?_c(VBtn,{attrs:{\"icon\":\"\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.remove(model.id)}}},[_c(VIcon,{attrs:{\"size\":\"20\"}},[_vm._v(\"mdi-close\")])],1):_vm._e()],1)],1)]}}],null,true)},[_vm._v(\" \"+_vm._s(model.error)+\" \")])],1)]}}],null,true)})}),1)],1)],1):_vm._e()],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","export async function ping(url: string): Promise<boolean> {\r\n    try {\r\n        return (await fetch(url)).ok;\r\n    } catch (e) {\r\n        return false;\r\n    }\r\n}\r\n","export function isSettingsFileV2(file: string) {\r\n    return file.endsWith('model.json');\r\n}\r\n\r\nexport function isSettingsFileV3(file: string) {\r\n    return file.endsWith('model3.json');\r\n}\r\n\r\nexport function isSettingsFile(file: string) {\r\n    return isSettingsFileV2(file) || isSettingsFileV3(file);\r\n}\r\n\r\nexport function isMocFileV2(file: string) {\r\n    return file.endsWith('.moc');\r\n}\r\n\r\nexport function isMocFileV3(file: string) {\r\n    return file.endsWith('.moc3');\r\n}\r\n\r\nexport function isMocFile(file: string) {\r\n    return isMocFileV2(file) || isMocFileV3(file);\r\n}\r\n","import { CommonModelJSON } from '@/global';\r\nimport { isMocFile, isSettingsFile } from './helpers';\r\n\r\ndeclare const __SOURCE_REPOSITORIES__: string[];\r\n\r\nexport interface TreeNode {\r\n    id: number;\r\n    name: string;\r\n    children?: TreeNode[];\r\n    files?: string[];\r\n    error?: any;\r\n    modelCount: number;\r\n}\r\n\r\nlet uid = 0;\r\n\r\nconst JSDELIVR_PREFIX = 'https://cdn.jsdelivr.net/gh/';\r\n\r\nconst tasks = new Map<TreeNode, Promise<void>>();\r\n\r\nconst rootNodes: TreeNode[] = __SOURCE_REPOSITORIES__.map(repo => ({\r\n    id: uid++,\r\n    name: repo,\r\n    children: [],\r\n    files: [],\r\n    modelCount: 0,\r\n}));\r\n\r\nconst settingsJSONs: Record<string, CommonModelJSON> = {};\r\n\r\n// preload\r\nrootNodes.forEach(loadRootNode);\r\n\r\nexport function getRootNodes(): TreeNode[] {\r\n    return rootNodes;\r\n}\r\n\r\nexport function loadRootNode(node: TreeNode): Promise<void> {\r\n    if (!rootNodes.includes(node)) {\r\n        return Promise.resolve();\r\n    }\r\n\r\n    if (!tasks.get(node)) {\r\n        const task = fetch(node.name.toLowerCase().replace('/', '') + '.json')\r\n            .then(res => res.json())\r\n            .then(data => {\r\n                node.name = data.models.name;\r\n                node.children = data.models.children;\r\n                node.files = data.models.files;\r\n\r\n                traverseNode(node, n => n.id = uid++);\r\n                countModels(node);\r\n\r\n                Object.assign(settingsJSONs, data.settings);\r\n            })\r\n            .catch(e => node.error = e);\r\n\r\n        tasks.set(node, task);\r\n\r\n        return task;\r\n    }\r\n\r\n    return tasks.get(node)!;\r\n}\r\n\r\nfunction countModels(node: TreeNode): number {\r\n    node.modelCount = node.files?.length || 0;\r\n\r\n    for (const child of node.children || []) {\r\n        node.modelCount += countModels(child);\r\n    }\r\n\r\n    return node.modelCount;\r\n}\r\n\r\nexport function traverseNode(node: TreeNode, fn: (node: TreeNode) => void) {\r\n    fn(node);\r\n\r\n    if (node.children) {\r\n        for (const child of node.children) {\r\n            traverseNode(child, fn);\r\n        }\r\n    }\r\n}\r\n\r\nexport function getFileURL(folder: TreeNode, file: string): string | undefined {\r\n    const folderPath = getNodePath(folder);\r\n\r\n    if (folderPath) {\r\n        let filePath = encodeURI(folderPath + '/' + file);\r\n\r\n        return JSDELIVR_PREFIX + filePath;\r\n    }\r\n}\r\n\r\n/**\r\n * Converts the jsDelivr URL to GitHub's raw URL.\r\n * \r\n * - `https://cdn.jsdelivr.net/gh/<repo>/<file>`\r\n * - `https://raw.githubusercontent.com/<repo>/master/<file>`\r\n */\r\nexport function getAlternativeURL(url: string): string {\r\n    const repoAndFile = url.replace(JSDELIVR_PREFIX, '');\r\n    const names = repoAndFile.split('/');\r\n    const repo = names.slice(0, 2).join('/');\r\n    const file = names.slice(2).join('/');\r\n\r\n    return `https://raw.githubusercontent.com/${repo}/master/${file}`;\r\n}\r\n\r\nexport function getNodePath(node: TreeNode): string | undefined {\r\n    const search = (nodes: TreeNode[]): string | undefined => {\r\n        for (const _node of nodes) {\r\n            if (_node === node) {\r\n                return _node.name;\r\n            }\r\n\r\n            if (_node.children) {\r\n                const subPath = search(_node.children);\r\n\r\n                if (subPath) {\r\n                    return _node.name + '/' + subPath;\r\n                }\r\n            }\r\n        }\r\n    };\r\n\r\n    return search(rootNodes);\r\n}\r\n\r\nexport function validateURL(url: string): string | undefined {\r\n    if (isSettingsFile(url) || url.endsWith('.zip')) {\r\n        return;\r\n    }\r\n\r\n    if (isMocFile(url)) {\r\n        if (getSettingsJSON(url)) {\r\n            return;\r\n        }\r\n\r\n        return 'Error: Cannot display a moc file that doesn\\'t belong to any source repository';\r\n    }\r\n\r\n    return 'Warning: Unknown URL type. The model may not be loaded correctly';\r\n}\r\n\r\nexport function getSettingsJSON(mocURL: string): CommonModelJSON | undefined {\r\n    if (mocURL.startsWith(JSDELIVR_PREFIX)) {\r\n        let mocFile = mocURL.replace(JSDELIVR_PREFIX, '');\r\n\r\n        mocFile = decodeURI(mocFile);\r\n\r\n        return settingsJSONs[mocFile];\r\n    }\r\n}\r\n","import {\r\n    Cubism2ModelSettings,\r\n    Cubism2Spec,\r\n    Cubism4InternalModel,\r\n    Cubism4ModelSettings,\r\n    CubismSpec,\r\n    InternalModel,\r\n    Live2DFactory,\r\n    Live2DFactoryContext,\r\n    Live2DLoader,\r\n    XHRLoader,\r\n    folderName,\r\n} from 'pixi-live2d-display';\r\nimport JSON5 from 'json5';\r\nimport { ping } from '@/utils';\r\nimport { snakeCase, unionBy } from 'lodash-es';\r\nimport { url as urlUtils } from '@pixi/utils';\r\nimport { getAlternativeURL, getSettingsJSON } from './data';\r\nimport { CommonModelJSON } from '@/global';\r\nimport { isMocFile, isMocFileV3 } from './helpers';\r\n\r\n// replace the XHRLoader to handle failures\r\nLive2DLoader.middlewares[Live2DLoader.middlewares.indexOf(XHRLoader.loader)] = async (context, next) => {\r\n    const url = context.settings ? context.settings.resolveURL(context.url) : context.url;\r\n\r\n    try {\r\n        await XHRLoader.loader(context, next);\r\n        return;\r\n    } catch (e) {\r\n        if (!(e && (e as any).status === 403 && url.includes('jsdelivr'))) {\r\n            throw e;\r\n        }\r\n\r\n        console.warn('Received 403 response from jsDelivr, switching to the alternative URL');\r\n    }\r\n\r\n    context.url = getAlternativeURL(url);\r\n\r\n    await XHRLoader.loader(context, next);\r\n\r\n    return next();\r\n};\r\n\r\n// replace the default urlToJSON middleware\r\nLive2DFactory.live2DModelMiddlewares[Live2DFactory.live2DModelMiddlewares.indexOf(Live2DFactory.urlToJSON)] = urlToJSON;\r\n\r\nconst defaultInit = (InternalModel.prototype as any).init as () => void;\r\n\r\n(InternalModel.prototype as any).init = async function () {\r\n    await patchInternalModel(this);\r\n    defaultInit.call(this);\r\n};\r\n\r\nasync function urlToJSON(context: Live2DFactoryContext, next: (err?: any) => Promise<void>) {\r\n    if (typeof context.source === 'string') {\r\n\r\n        const url = context.source;\r\n\r\n        let json: CommonModelJSON;\r\n\r\n        if (isMocFile(url)) {\r\n            json = getSettingsJSON(url) as NonNullable<ReturnType<typeof getSettingsJSON>>;\r\n\r\n            if (!json) {\r\n                throw new Error('Cannot find settings JSON from moc');\r\n            }\r\n\r\n            if (isMocFileV3(url)) {\r\n                json.url = urlUtils.resolve(url, 'dummy.model3.json');\r\n\r\n                const json3 = json as CubismSpec.ModelJSON;\r\n\r\n                json3.FileReferences.Moc = url;\r\n\r\n                // construct motion definitions from the plain string array\r\n                if (json3.FileReferences.Motions?.['']?.length && typeof json3.FileReferences.Motions[''][0] === 'string') {\r\n                    json3.FileReferences.Motions[''] = json3.FileReferences.Motions[''].map(\r\n                        motionFile => ({ File: motionFile as any as string }),\r\n                    );\r\n                }\r\n            } else {\r\n                json.url = urlUtils.resolve(url, 'dummy.model.json');\r\n\r\n                const json2 = json as Cubism2Spec.ModelJSON;\r\n\r\n                json2.model = url;\r\n\r\n                // construct motion definitions from the plain string array\r\n                if (json2.motions?.['']?.length && typeof json2.motions[''][0] === 'string') {\r\n                    json2.motions[''] = json2.motions[''].map(\r\n                        motionFile => ({ file: motionFile as any as string }),\r\n                    );\r\n                }\r\n            }\r\n        } else {\r\n            let jsonText = await fetch(url).then(res => res.text());\r\n\r\n            jsonText = replaceJSONText(jsonText, url);\r\n\r\n            // some JSONs are poorly formatted, but can possibly be parsed by JSON5\r\n            json = JSON5.parse(jsonText);\r\n\r\n            json.url = url;\r\n        }\r\n\r\n        await patchJSON(json, url);\r\n\r\n        setSingleMotionAsIdle(json);\r\n\r\n        context.source = json;\r\n\r\n        console.log(json);\r\n\r\n        context.live2dModel.emit('settingsJSONLoaded', json);\r\n    }\r\n\r\n    return next();\r\n}\r\n\r\nfunction replaceJSONText(jsonText: string, url: string) {\r\n    for (const patch of patches) {\r\n        if (url.includes(encodeURI(patch.search)) && patch.replace) {\r\n            jsonText = patch.replace(jsonText, url);\r\n        }\r\n    }\r\n\r\n    return jsonText;\r\n}\r\n\r\nasync function patchJSON(json: any, url: string) {\r\n    for (const patch of patches) {\r\n        if (url.includes(encodeURI(patch.search)) && patch.patch) {\r\n            await patch.patch(json, url);\r\n        }\r\n    }\r\n}\r\n\r\nexport async function patchInternalModel(internalModel: InternalModel) {\r\n    for (const patch of patches) {\r\n        if (internalModel.settings.url.includes(encodeURI(patch.search)) && patch.patchInternalModel) {\r\n            await patch.patchInternalModel(internalModel);\r\n        }\r\n    }\r\n}\r\n\r\nconst patches: {\r\n    search: string;\r\n    replace?: (jsonText: string, url: string) => string;\r\n    patch?: (json: any, url: string) => void | Promise<void>;\r\n    patchInternalModel?: (internalModel: any) => void | Promise<void>;\r\n}[] = [{\r\n    search: '', //  Horcrux College\r\n\r\n    replace(jsonText: string) {\r\n        // add missing commas\r\n        return jsonText.replace(/mtn\"([^,])/gm, 'mtn\",$1');\r\n    },\r\n\r\n    patch(json: Partial<Cubism2Spec.ModelJSON>) {\r\n        // `textures` is an object with a single value which is the real textures array,\r\n        // like { \"textures\": { '123': [\"texture_00.png\"] } }\r\n        if (json.textures && !Array.isArray(json.textures)) {\r\n            const realArray = Object.values(json.textures)[0] as string[];\r\n\r\n            if (Array.isArray(realArray)) {\r\n                json.textures = realArray\r\n                    // some paths are missing the folder prefix\r\n                    .map((tex: string) => tex.startsWith('textures/') ? tex : 'textures/' + tex);\r\n            }\r\n        }\r\n    },\r\n}, {\r\n    search: '', //  Girls Frontline\r\n\r\n    async patch(json: Partial<Cubism2Spec.ModelJSON>, url: string) {\r\n        extractCubism2IdleMotions(json, ['daiji']);\r\n\r\n        if (!json.name) {\r\n            // set a proper name\r\n            json.name = folderName(url.replace(/(normal|destroy).model.json/, ''));\r\n        }\r\n\r\n        // prefix paths of motion files\r\n        if (json.motions?.idle?.length) {\r\n            // only check and fix the first one\r\n            const motion0 = json.motions.idle[0] as Partial<Cubism2Spec.Motion>;\r\n\r\n            if (motion0.file?.startsWith('daiji')) {\r\n                const fileExists = await ping(urlUtils.resolve(url, motion0.file));\r\n\r\n                if (!fileExists) {\r\n                    // misplaced motion file\r\n                    motion0.file = 'motions/' + motion0.file;\r\n                }\r\n            }\r\n        }\r\n    },\r\n}, {\r\n    search: '', //  Unknown Bride\r\n\r\n    async patch(json: Partial<CubismSpec.ModelJSON>, url: string) {\r\n        // add missing textures\r\n        if (json.FileReferences?.Textures?.length === 0) {\r\n            const tex0Exists = await ping(urlUtils.resolve(url, 'textures/texture_00.png'));\r\n\r\n            json.FileReferences.Textures.push(\r\n                // two kinds of texture name\r\n                tex0Exists ? 'textures/texture_00.png' : 'textures/texture_00 .png',\r\n            );\r\n        }\r\n\r\n        // extract idle motions\r\n        extractCubism4IdleMotions(json, ['home', 'gacha']);\r\n    },\r\n}, {\r\n    search: '', // Nerco TokyoNerco\r\n\r\n    async patch(json: Partial<Cubism2Spec.ModelJSON | CubismSpec.ModelJSON>, url: string) {\r\n        // some textures are misplaced\r\n        const correctTexture = async (texture: string) => {\r\n            if (!await ping(urlUtils.resolve(url, texture))) {\r\n                return texture.replace('/texture', '/android/texture');\r\n            }\r\n\r\n            return texture;\r\n        };\r\n\r\n        if (Cubism2ModelSettings.isValidJSON(json)) {\r\n            if (json.textures) {\r\n                json.textures = await Promise.all(json.textures.map(correctTexture));\r\n            }\r\n\r\n            if (json.motions) {\r\n                // rename `File` to `file` in each motion\r\n                for (const motionGroup of Object.values(json.motions) as any[][]) {\r\n                    if (motionGroup?.length) {\r\n                        for (const motion of motionGroup) {\r\n                            motion.file = motion.file ?? motion.File;\r\n\r\n                            delete motion.File;\r\n                        }\r\n                    }\r\n                }\r\n\r\n                // some idle motions are misplaced in main group\r\n                if (!json.motions.idle?.length && json.motions['']) {\r\n                    json.motions.idle = json.motions[''].filter((motion: Cubism2Spec.Motion) => motion.file?.includes('loop'));\r\n                }\r\n            }\r\n        } else if (Cubism4ModelSettings.isValidJSON(json)) {\r\n            if (json.FileReferences?.Textures) {\r\n                json.FileReferences.Textures = await Promise.all(json.FileReferences.Textures.map(correctTexture));\r\n            }\r\n\r\n            if (json.FileReferences?.Motions) {\r\n                if (!json.FileReferences.Motions.Idle?.length && json.FileReferences.Motions['']) {\r\n                    json.FileReferences.Motions.Idle = json.FileReferences.Motions['']\r\n                        .filter((motion: CubismSpec.Motion) => motion.File?.includes('loop'));\r\n                }\r\n            }\r\n        }\r\n    },\r\n}, {\r\n    search: '', //  Destiny Child\r\n\r\n    patch(json: Partial<Cubism2Spec.ModelJSON>) {\r\n        if (json.motions?.['']?.length && !json.motions?.idle?.length) {\r\n            // deep clone all the motions as idle motion\r\n            json.motions.idle = json.motions?.[''].map(motion => ({ ...motion }));\r\n        }\r\n    },\r\n}, {\r\n    search: '', //  Azur Lane\r\n\r\n    patch(json: Partial<CubismSpec.ModelJSON>) {\r\n        extractCubism4IdleMotions(json, ['idle']);\r\n    },\r\n}, {\r\n    search: '', //  Girl Cafe Gun\r\n\r\n    patch(json: Partial<CubismSpec.ModelJSON>) {\r\n        extractCubism4IdleMotions(json, ['stand']);\r\n    },\r\n\r\n    patchInternalModel(internalModel: Cubism4InternalModel) {\r\n        // convert the case of parameter names\r\n        // e.g. ParamAngleX -> PARAM_ANGLE_X\r\n        for (const prop of Object.keys(internalModel) as (keyof Cubism4InternalModel)[]) {\r\n            if (prop.startsWith('idParam')) {\r\n                (internalModel as any)[prop] = snakeCase(internalModel[prop] as string).toUpperCase();\r\n            }\r\n        }\r\n    },\r\n}, {\r\n    search: 'princesses', // Sacred Sword Princesses\r\n\r\n    patch(json: Partial<Cubism2Spec.ModelJSON>) {\r\n        extractCubism2IdleMotions(json, ['default', 'loop']);\r\n    },\r\n}, {\r\n    search: '', // 2 Honkai Impact 2\r\n\r\n    patch(json: Partial<Cubism2Spec.ModelJSON>) {\r\n        removeSoundDefs(json);\r\n\r\n        // no empty name\r\n        if (json.name === '') {\r\n            delete json.name;\r\n        }\r\n    },\r\n}, {\r\n    search: '', //  Warship Girls\r\n\r\n    patch(json: Partial<Cubism2Spec.ModelJSON>) {\r\n        removeSoundDefs(json);\r\n    },\r\n}, {\r\n    search: '', //  Iron Saga\r\n\r\n    patch(json: Partial<Cubism2Spec.ModelJSON>) {\r\n        removeSoundDefs(json);\r\n    },\r\n}, {\r\n    search: '', //  Noah Fantasy\r\n\r\n    patch(json: Partial<Cubism2Spec.ModelJSON>) {\r\n        // just... don't name it \"model\"\r\n        if (json.name === 'model') {\r\n            delete json.name;\r\n        }\r\n    },\r\n}];\r\n\r\n/**\r\n * Sets a motion as the idle motion if it's the only one in this model.\r\n */\r\nfunction setSingleMotionAsIdle(json: Partial<CommonModelJSON>) {\r\n    const motions = (json as CubismSpec.ModelJSON).FileReferences?.Motions;\r\n\r\n    if (motions) {\r\n        if (!motions.Idle?.[0] && motions['']?.length === 1) {\r\n            // deep clone the array\r\n            motions.Idle = motions[''].map(motion => ({ ...motion }));\r\n        }\r\n    }\r\n}\r\n\r\n/**\r\n * Extracts non-standard idle motions into the \"idle\" group.\r\n *\r\n * @param json\r\n * @param keywords Strings in lowercase.\r\n */\r\nfunction extractCubism2IdleMotions(json: Partial<Cubism2Spec.ModelJSON>, keywords: string[]) {\r\n    if (json.motions) {\r\n        const idleMotions: Cubism2Spec.Motion[] = [];\r\n\r\n        for (const [group, motions] of Object.entries(json.motions)) {\r\n            if (group !== 'idle' && Array.isArray(motions)) {\r\n                for (const motion of motions) {\r\n                    for (const keyword of keywords) {\r\n                        if (motion.file && motion.file.toLowerCase().includes(keyword)) {\r\n                            idleMotions.push(motion);\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n\r\n        if (idleMotions.length) {\r\n            json.motions.idle = unionBy(json.motions.idle, idleMotions, 'file');\r\n        }\r\n    }\r\n}\r\n\r\n/**\r\n * Extracts non-standard idle motions into the \"Idle\" group.\r\n *\r\n * @param json\r\n * @param keywords Strings in lowercase.\r\n */\r\nfunction extractCubism4IdleMotions(json: Partial<CubismSpec.ModelJSON>, keywords: string[]) {\r\n    if (json.FileReferences?.Motions) {\r\n        const idleMotions: CubismSpec.Motion[] = [];\r\n\r\n        for (const [group, motions] of Object.entries(json.FileReferences.Motions)) {\r\n            if (group !== 'Idle' && Array.isArray(motions)) {\r\n                for (const motion of motions) {\r\n                    for (const keyword of keywords) {\r\n                        if (motion.File && motion.File.toLowerCase().includes(keyword)) {\r\n                            idleMotions.push(motion);\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n\r\n        if (idleMotions.length) {\r\n            json.FileReferences.Motions.Idle = unionBy(json.FileReferences.Motions.Idle, idleMotions, 'File');\r\n        }\r\n    }\r\n}\r\n\r\n/**\r\n * Some models have sound definitions, but the sound files are not appearing in the repository,\r\n * so it's better to remove them to reduce the amount of errors in console.\r\n */\r\nfunction removeSoundDefs(json: Partial<Cubism2Spec.ModelJSON>) {\r\n    if (json.motions) {\r\n        for (const motionGroup of Object.values(json.motions as Record<string, Cubism2Spec.Motion[]>)) {\r\n            if (motionGroup?.length) {\r\n                for (const motion of motionGroup) {\r\n                    motion.sound = undefined;\r\n                }\r\n            }\r\n        }\r\n    }\r\n}\r\n","import { ZipLoader } from 'pixi-live2d-display';\r\nimport JSZip from 'jszip';\r\n\r\nZipLoader.zipReader = (data: Blob, url: string) => JSZip.loadAsync(data);\r\n\r\nZipLoader.readText = (jsZip: JSZip, path: string) => {\r\n    const file = jsZip.file(path);\r\n\r\n    if (!file) {\r\n        throw new Error('Cannot find file: ' + path);\r\n    }\r\n\r\n    return file.async('text');\r\n};\r\n\r\nZipLoader.getFilePaths = (jsZip: JSZip) => {\r\n    const paths: string[] = [];\r\n\r\n    jsZip.forEach(relativePath => paths.push(relativePath));\r\n\r\n    return Promise.resolve(paths);\r\n};\r\n\r\nZipLoader.getFiles = (jsZip: JSZip, paths: string[]) =>\r\n    Promise.all(paths.map(\r\n        async path => {\r\n            const fileName = path.slice(path.lastIndexOf('/') + 1);\r\n\r\n            const blob = await jsZip.file(path)!.async('blob');\r\n\r\n            return new File([blob], fileName);\r\n        }));\r\n","import { PixelateFilter } from '@pixi/filter-pixelate';\r\nimport { OutlineFilter } from '@pixi/filter-outline';\r\nimport { AsciiFilter } from '@pixi/filter-ascii';\r\nimport { AlphaFilter } from '@pixi/filter-alpha';\r\nimport { CRTFilter } from '@pixi/filter-crt';\r\nimport { NoiseFilter } from '@pixi/filter-noise';\r\nimport { DisplayObject } from '@pixi/display';\r\n\r\nexport namespace Filter {\r\n    export const filters = {\r\n        Outline: new OutlineFilter(4),\r\n        Pixelate: new PixelateFilter(4),\r\n        CRT: new CRTFilter({\r\n            lineWidth: 3,\r\n            lineContrast: 0.3,\r\n            vignetting: 0,\r\n        }),\r\n        Noise: new NoiseFilter(0.4),\r\n        Ascii: new AsciiFilter(),\r\n        Alpha: new AlphaFilter(0.7),\r\n    };\r\n\r\n    export function set(target: DisplayObject, filterNames: (keyof typeof filters)[]) {\r\n        target.filters = [];\r\n\r\n        for (const name of filterNames) {\r\n            target.filters.push(filters[name]);\r\n        }\r\n    }\r\n\r\n    export function update(dt: number) {\r\n        filters.Noise.seed = Math.random();\r\n        filters.CRT.seed = Math.random();\r\n        filters.CRT.time += dt * 0.01;\r\n    }\r\n\r\n    export function release(target: DisplayObject) {\r\n        target.filters = [];\r\n    }\r\n}\r\n","import { Live2DFactoryContext, Live2DModel as BaseLive2DModel } from 'pixi-live2d-display';\r\nimport { HitAreaFrames } from 'pixi-live2d-display/extra';\r\nimport { Sprite } from '@pixi/sprite';\r\nimport { Texture, Renderer } from '@pixi/core';\r\nimport { Ticker } from '@pixi/ticker';\r\nimport './patches';\r\nimport './zip';\r\nimport { Filter } from '@/app/Filter';\r\n\r\nBaseLive2DModel.registerTicker(Ticker);\r\n\r\nexport class Live2DModel extends BaseLive2DModel {\r\n    factoryContext!: Live2DFactoryContext;\r\n\r\n    hitAreaFrames: HitAreaFrames;\r\n    background: Sprite;\r\n\r\n    backgroundVisible = false;\r\n\r\n    currentMotionStartTime = performance.now();\r\n    currentMotionDuration = 0;\r\n\r\n    constructor() {\r\n        super();\r\n\r\n        this.hitAreaFrames = new HitAreaFrames();\r\n        this.hitAreaFrames.visible = false;\r\n\r\n        this.background = Sprite.from(Texture.WHITE);\r\n        this.background.alpha = 0.2;\r\n        this.background.visible = false;\r\n\r\n        this.once('modelLoaded', this._init);\r\n    }\r\n\r\n    _init() {\r\n        this.addChild(this.hitAreaFrames);\r\n        this.addChild(this.background);\r\n\r\n        this.background.width = this.internalModel.width;\r\n        this.background.height = this.internalModel.height;\r\n\r\n        this.anchor.set(0.5, 0.5);\r\n\r\n        this.on('hit', this.startHitMotion);\r\n\r\n        this.internalModel.motionManager.on('motionStart', (group: string, index: number) => {\r\n            this.currentMotionStartTime = this.elapsedTime;\r\n            this.currentMotionDuration = 0;\r\n\r\n            const motion = this.internalModel.motionManager.motionGroups[group]?.[index];\r\n\r\n            if (motion) {\r\n                if ('_loopDurationSeconds' in motion) {\r\n                    this.currentMotionDuration = motion._loopDurationSeconds * 1000;\r\n                } else if ('getDurationMSec' in motion) {\r\n                    this.currentMotionDuration = motion.getDurationMSec();\r\n                }\r\n            }\r\n        });\r\n\r\n        const expressionManager = this.internalModel.motionManager.expressionManager;\r\n\r\n        if (expressionManager) {\r\n            const originalStartMotion = (expressionManager as any)._setExpression;\r\n\r\n            (expressionManager as any)._setExpression = (expression: any) => {\r\n                originalStartMotion.call(expressionManager, expression);\r\n\r\n                this.emit('expressionSet', expressionManager.expressions.indexOf(expression));\r\n            };\r\n\r\n            let reserveExpressionIndex = expressionManager.reserveExpressionIndex;\r\n\r\n            Object.defineProperty(expressionManager, 'reserveExpressionIndex', {\r\n                get: () => reserveExpressionIndex,\r\n                set: (index: number) => {\r\n                    reserveExpressionIndex = index;\r\n\r\n                    this.emit('expressionReserved', index);\r\n                },\r\n            });\r\n        }\r\n    }\r\n\r\n    startHitMotion(hitAreaNames: string[]) {\r\n        for (let area of hitAreaNames) {\r\n            area = area.toLowerCase();\r\n\r\n            const possibleGroups = [area, 'tap' + area, 'tap_' + area, 'tap'];\r\n\r\n            for (const possibleGroup of possibleGroups) {\r\n                for (let group of Object.keys(this.internalModel.motionManager.definitions)) {\r\n                    if (possibleGroup === group.toLowerCase()) {\r\n                        this.motion(group);\r\n                        return;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    updateTransform() {\r\n        super.updateTransform();\r\n\r\n        // since the background's `visible` is always false, we need to manually update its transform\r\n        if (this.backgroundVisible) {\r\n            this.background.updateTransform();\r\n        }\r\n    }\r\n\r\n    override _render(renderer: Renderer) {\r\n        // render background before the model\r\n        if (this.backgroundVisible) {\r\n            this.background.visible = true;\r\n\r\n            this.background.render(renderer);\r\n\r\n            this.background.visible = false;\r\n        }\r\n\r\n        super._render(renderer);\r\n    }\r\n\r\n    destroy(options?: { children?: boolean; texture?: boolean; baseTexture?: boolean }) {\r\n        super.destroy(options);\r\n\r\n        Filter.release(this);\r\n    }\r\n}\r\n","import { Live2DModel } from '@/app/Live2DModel';\r\nimport { InteractionEvent } from '@pixi/interaction';\r\n\r\nexport interface DraggableLive2DModel extends Live2DModel {\r\n    dragging: boolean;\r\n    _pointerX: number;\r\n    _pointerY: number;\r\n}\r\n\r\nexport function draggable(_model: Live2DModel) {\r\n    const model = _model as DraggableLive2DModel;\r\n\r\n    model.on(\"pointerdown\", onPointerDown);\r\n    model.on(\"pointermove\", onPointerMove);\r\n    model.on(\"pointerup\", onPointerUp);\r\n    model.on(\"pointerupoutside\", onPointerUp);\r\n}\r\n\r\nfunction onPointerDown(this: DraggableLive2DModel, e: InteractionEvent) {\r\n    this.dragging = true;\r\n    this._pointerX = e.data.global.x - this.x;\r\n    this._pointerY = e.data.global.y - this.y;\r\n}\r\n\r\nfunction onPointerMove(this: DraggableLive2DModel, e: InteractionEvent) {\r\n    if (this.dragging) {\r\n        this.position.x = e.data.global.x - this._pointerX;\r\n        this.position.y = e.data.global.y - this._pointerY;\r\n    }\r\n}\r\n\r\nfunction onPointerUp(this: DraggableLive2DModel, e: InteractionEvent) {\r\n    this.dragging = false;\r\n}\r\n","import { lowerCase } from 'lodash-es';\r\nimport { Live2DFactory } from \"pixi-live2d-display\";\r\nimport { Live2DModel } from './Live2DModel';\r\n\r\nconst enum StageState {\r\n    NOT_AVAILABLE, PENDING, COMPLETED, FAILED\r\n}\r\n\r\nLive2DFactory.live2DModelMiddlewares.unshift((context, next) => {\r\n    // save context to the model, this is ugly I know\r\n    (context.live2dModel as Live2DModel).factoryContext = context;\r\n\r\n    return next();\r\n});\r\n\r\nexport class ModelLoadingState {\r\n\r\n    stages = {\r\n        settingsJSON: StageState.PENDING,\r\n        settings: StageState.NOT_AVAILABLE,\r\n        textures: StageState.NOT_AVAILABLE,\r\n        internalModel: StageState.NOT_AVAILABLE,\r\n        pose: StageState.NOT_AVAILABLE,\r\n        physics: StageState.NOT_AVAILABLE,\r\n    };\r\n\r\n    text = '';\r\n\r\n    constructor() {\r\n        this.updateText();\r\n    }\r\n\r\n    watch(model: Live2DModel) {\r\n        model\r\n            .once('settingsJSONLoaded', () => this.complete('settingsJSON', model))\r\n            .once('settingsLoaded', () => this.complete('settings', model))\r\n            .once('textureLoaded', () => this.complete('textures', model))\r\n            .once('modelLoaded', () => this.complete('internalModel', model))\r\n\r\n            // TODO: (plugin) emit \"poseLoadError\" and \"physicsLoadError\"\r\n            .once('poseLoaded', () => this.complete('pose', model))\r\n            .once('physicsLoaded', () => this.complete('physics', model));\r\n    }\r\n\r\n    complete(stage: keyof ModelLoadingState['stages'], model: Live2DModel) {\r\n        if (stage !== 'settingsJSON' && this.stages.settingsJSON !== StageState.COMPLETED) {\r\n            // FIXME: (plugin) \"settingsJSONLoaded\" and \"settingsLoaded\" are not emitted when loading from local files\r\n            this.complete('settingsJSON', model);\r\n            this.complete('settings', model);\r\n        }\r\n\r\n        this.stages[stage] = StageState.COMPLETED;\r\n\r\n        if (stage === 'settingsJSON') {\r\n            this.stages.settings = StageState.PENDING;\r\n        } else if (stage === 'settings') {\r\n            this.stages.textures = StageState.PENDING;\r\n            this.stages.internalModel = StageState.PENDING;\r\n            model.factoryContext.settings!.pose && (this.stages.pose = StageState.PENDING);\r\n            model.factoryContext.settings!.physics && (this.stages.physics = StageState.PENDING);\r\n        }\r\n\r\n        this.updateText();\r\n    }\r\n\r\n    updateText() {\r\n        this.text = Object.entries(this.stages).map(\r\n            ([stage, state]) => {\r\n                if (state === StageState.NOT_AVAILABLE) {\r\n                    return '';\r\n                }\r\n\r\n                let mark;\r\n\r\n                switch (state) {\r\n                    case StageState.PENDING:\r\n                        mark = '[ ]';\r\n                        break;\r\n                    case StageState.COMPLETED:\r\n                        mark = '[x]';\r\n                        break;\r\n                    case StageState.FAILED:\r\n                        mark = ' X ';\r\n                        break;\r\n                }\r\n\r\n                return `${mark} Loading ${lowerCase(stage)}`;\r\n            }\r\n        ).filter(Boolean).join('\\n');\r\n    }\r\n}\r\n","import { Live2DModel } from './Live2DModel';\r\nimport { EventEmitter } from '@pixi/utils';\r\nimport { draggable } from '@/tools/dragging';\r\nimport { settings } from '@pixi/settings';\r\nimport { Renderer } from '@pixi/core';\r\nimport { Extract } from '@pixi/extract';\r\nimport { Filter } from '@/app/Filter';\r\nimport { ModelLoadingState } from './ModelLoadingState';\r\nimport { Live2DFactory } from 'pixi-live2d-display';\r\n\r\n// 1x1 green image\r\nconst THUMBNAIL = 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVR42mMU22h6EgADqAHHuWdgTgAAAABJRU5ErkJggg==';\r\n\r\nlet uid = 1;\r\n\r\nexport class ModelEntity extends EventEmitter {\r\n    id = uid++;\r\n    url = '';\r\n\r\n    thumbnail = '';\r\n    aspectRatio = 1;\r\n\r\n    name = 'New Model';\r\n    visible = true;\r\n\r\n    private _scaleX = 1;\r\n    private _scaleY = 1;\r\n    private _rotation = 0;\r\n    private _zIndex = 0;\r\n\r\n    filters: (keyof typeof Filter.filters)[] = [];\r\n\r\n    loadingState = new ModelLoadingState();\r\n\r\n    error = '';\r\n\r\n    pixiModel?: Live2DModel;\r\n\r\n    constructor(source: string | File[], renderer: Renderer) {\r\n        super();\r\n\r\n        this.loadModel(source).then();\r\n    }\r\n\r\n    async loadModel(source: string | File[]) {\r\n        if (typeof source === 'string') {\r\n            this.url = source;\r\n        } else {\r\n            this.url = '(Local files)';\r\n        }\r\n\r\n        // don't use Live2DModel.fromSync() because when loading from local files,\r\n        // the \"settingsJSONLoaded\" and \"settingsLoaded\" events will be emitted before\r\n        // we're able to listen to the Live2DModel instance\r\n        // TODO: (plugin) improve model creation?\r\n        const pixiModel = new Live2DModel();\r\n\r\n        this.loadingState.watch(pixiModel);\r\n\r\n        try {\r\n            await Live2DFactory.setupLive2DModel(pixiModel, source);\r\n\r\n            this.modelLoaded(pixiModel);\r\n            this.emit('modelLoaded', pixiModel);\r\n        } catch (e) {\r\n            console.warn(e);\r\n\r\n            this.error = e instanceof Error ? e.message : e + '';\r\n        }\r\n    }\r\n\r\n    modelLoaded(pixiModel: Live2DModel) {\r\n        this.pixiModel = pixiModel;\r\n        this.name = pixiModel.internalModel.settings.name;\r\n        this.thumbnail = THUMBNAIL;\r\n        this.aspectRatio = pixiModel.width / pixiModel.height;\r\n\r\n        this.updateFilters();\r\n\r\n        draggable(pixiModel);\r\n    }\r\n\r\n    initThumbnail(renderer: Renderer) {\r\n        const pixiModel = this.pixiModel!;\r\n        settings.RESOLUTION = 0.2;\r\n\r\n        const hitAreaFramesVisible = pixiModel.hitAreaFrames.visible;\r\n        const backgroundVisible = pixiModel.backgroundVisible;\r\n        pixiModel.hitAreaFrames.visible = false;\r\n        pixiModel.backgroundVisible = false;\r\n\r\n        try {\r\n            const canvas = (renderer.plugins.extract as Extract).canvas(pixiModel);\r\n\r\n            canvas.toBlob(blob => this.thumbnail = URL.createObjectURL(blob!), 'image/webp', 0.01);\r\n        } catch (e) {\r\n            console.warn(e);\r\n        }\r\n\r\n        settings.RESOLUTION = 1;\r\n        pixiModel.hitAreaFrames.visible = hitAreaFramesVisible;\r\n        pixiModel.backgroundVisible = backgroundVisible;\r\n    }\r\n\r\n    fit(width: number, height: number) {\r\n        if (this.pixiModel) {\r\n            let scale = Math.min(width / this.pixiModel.width, height / this.pixiModel.height);\r\n\r\n            scale = Math.round(scale * 10) / 10;\r\n\r\n            this.scale(scale, scale);\r\n        }\r\n    }\r\n\r\n    scale(scaleX?: number, scaleY?: number) {\r\n        this._scaleX = scaleX ?? this._scaleX;\r\n        this._scaleY = scaleY ?? this._scaleY;\r\n\r\n        if (this.pixiModel) {\r\n            this.pixiModel.scale.set(this._scaleX, this._scaleY);\r\n        }\r\n    }\r\n\r\n    rotate(rotation: number) {\r\n        this._rotation = rotation;\r\n\r\n        if (this.pixiModel) {\r\n            this.pixiModel.rotation = rotation;\r\n        }\r\n    }\r\n\r\n    setZIndex(zIndex: number) {\r\n        this._zIndex = zIndex;\r\n\r\n        if (this.pixiModel) {\r\n            this.pixiModel.zIndex = zIndex;\r\n        }\r\n    }\r\n\r\n    setVisible(visible: boolean) {\r\n        this.visible = visible;\r\n\r\n        if (this.pixiModel) {\r\n            this.pixiModel.visible = visible;\r\n        }\r\n    }\r\n\r\n    updateFilters() {\r\n        if (this.pixiModel) {\r\n            Filter.set(this.pixiModel, this.filters);\r\n        }\r\n    }\r\n\r\n    destroy() {\r\n        if (this.pixiModel) {\r\n            this.pixiModel.destroy({ children: true });\r\n            this.pixiModel = undefined;\r\n\r\n            URL.revokeObjectURL(this.thumbnail);\r\n        }\r\n    }\r\n\r\n    get zIndex(): number {\r\n        return this._zIndex;\r\n    }\r\n\r\n    set zIndex(value: number) {\r\n        this.setZIndex(value);\r\n    }\r\n\r\n    get rotation(): number {\r\n        return this._rotation;\r\n    }\r\n\r\n    set rotation(value: number) {\r\n        this.rotate(value);\r\n    }\r\n\r\n    get scaleY(): number {\r\n        return this._scaleY;\r\n    }\r\n\r\n    set scaleY(value: number) {\r\n        this.scale(undefined, value);\r\n    }\r\n\r\n    get scaleX(): number {\r\n        return this._scaleX;\r\n    }\r\n\r\n    set scaleX(value: number) {\r\n        this.scale(value, value);\r\n    }\r\n}\r\n","export function save(key: string) {\r\n    return function(target: any, propertyKey: string, descriptor: PropertyDescriptor) {\r\n        const set = descriptor.set!;\r\n\r\n        descriptor.set = function(value: any) {\r\n            set.call(this, value);\r\n            saveValue(key, value);\r\n        };\r\n\r\n        const value = loadValue(key, descriptor.get!.call(target));\r\n        set.call(target, value);\r\n    };\r\n}\r\n\r\nexport function saveValue<T = any>(key: string, value: T) {\r\n    localStorage.setItem(key, JSON.stringify(value));\r\n}\r\n\r\nexport function loadValue<T = any>(key: string, defaultValue: T): T {\r\n    const data = localStorage.getItem(key);\r\n\r\n    if (data === null) {\r\n        return defaultValue;\r\n    }\r\n\r\n    return JSON.parse(data);\r\n}\r\n","import { Filter } from '@/app/Filter';\r\nimport { Application } from '@pixi/app';\r\nimport { BatchRenderer, Renderer, extensions } from '@pixi/core';\r\nimport { Extract } from '@pixi/extract';\r\nimport { InteractionManager } from '@pixi/interaction';\r\nimport { TickerPlugin } from '@pixi/ticker';\r\nimport Stats from 'stats.js';\r\n\r\nextensions.add(TickerPlugin, Extract, BatchRenderer, InteractionManager);\r\n\r\nexport class PixiApp extends Application {\r\n    declare renderer: Renderer;\r\n\r\n    constructor(stats: Stats) {\r\n        super({\r\n            view: document.getElementById('canvas') as HTMLCanvasElement,\r\n            resizeTo: window,\r\n            antialias: true,\r\n            backgroundAlpha: 0,\r\n        });\r\n\r\n        this.ticker.remove(this.render, this);\r\n\r\n        this.ticker.add(() => {\r\n            stats.begin();\r\n\r\n            Filter.update(this.ticker.deltaMS);\r\n\r\n            this.render();\r\n\r\n            stats.end();\r\n        });\r\n    }\r\n}\r\n","import { ModelEntity } from './ModelEntity';\r\nimport { ExtendedFileList, SoundManager } from 'pixi-live2d-display';\r\nimport { save } from '@/utils/storage';\r\nimport Stats from 'stats.js';\r\nimport { PixiApp } from '@/app/PixiApp';\r\nimport { Live2DModel } from '@/app/Live2DModel';\r\n\r\nconst stats = new Stats();\r\nstats.showPanel(0);\r\nstats.dom.style.left = '';\r\nstats.dom.style.right = '0';\r\n\r\nexport class App {\r\n    static models: ModelEntity[] = [];\r\n\r\n    static pixiApp = new PixiApp(stats);\r\n\r\n    private static _volume = SoundManager.volume;\r\n    private static _showHitAreaFrames = false;\r\n    private static _showModelFrame = false;\r\n    private static _showStats = true;\r\n\r\n    static addModel(source: string | ExtendedFileList): number {\r\n        const model = new ModelEntity(source, this.pixiApp.renderer);\r\n\r\n        this.initModel(model);\r\n        this.models.push(model);\r\n\r\n        return model.id;\r\n    }\r\n\r\n    static getModel(id: number) {\r\n        return this.models.find(m => m.id === id);\r\n    }\r\n\r\n    private static initModel(model: ModelEntity) {\r\n        model.on('modelLoaded', async (pixiModel: Live2DModel) => {\r\n            if (!this.pixiApp.stage.children.includes(pixiModel)) {\r\n                this.pixiApp.stage.addChild(pixiModel);\r\n\r\n                pixiModel.backgroundVisible = this.showModelFrame;\r\n                pixiModel.hitAreaFrames.visible = this.showHitAreaFrames;\r\n                pixiModel.position.set(this.pixiApp.renderer.width / 2, this.pixiApp.renderer.height / 2);\r\n\r\n                model.fit(this.pixiApp.renderer.width, this.pixiApp.renderer.height);\r\n                model.initThumbnail(this.pixiApp.renderer);\r\n            }\r\n        });\r\n    }\r\n\r\n    static removeModel(id: number) {\r\n        const model = this.models.find(model => model.id === id);\r\n\r\n        if (model) {\r\n            this.models.splice(this.models.indexOf(model), 1);\r\n\r\n            if (model.pixiModel) {\r\n                this.pixiApp.stage.removeChild(model.pixiModel);\r\n            }\r\n\r\n            model.destroy();\r\n        }\r\n    }\r\n\r\n    @save('stats')\r\n    static set showStats(value: boolean) {\r\n        this._showStats = value;\r\n\r\n        if (value) {\r\n            document.body.appendChild(stats.dom);\r\n        } else {\r\n            stats.dom.parentElement?.removeChild(stats.dom);\r\n        }\r\n    }\r\n\r\n    static get showStats(): boolean {\r\n        return this._showStats;\r\n    }\r\n\r\n    @save('volume')\r\n    static set volume(value: number) {\r\n        this._volume = value;\r\n        SoundManager.volume = value;\r\n    }\r\n\r\n    static get volume(): number {\r\n        return this._volume;\r\n    }\r\n\r\n    @save('modelFrame')\r\n    static set showModelFrame(value: boolean) {\r\n        this._showModelFrame = value;\r\n\r\n        for (const model of this.models) {\r\n            if (model?.pixiModel) {\r\n                model.pixiModel.backgroundVisible = value;\r\n            }\r\n        }\r\n    }\r\n\r\n    static get showModelFrame(): boolean {\r\n        return this._showModelFrame;\r\n    }\r\n\r\n    @save('hitAreaFrames')\r\n    static set showHitAreaFrames(value: boolean) {\r\n        this._showHitAreaFrames = value;\r\n\r\n        for (const model of this.models) {\r\n            if (model?.pixiModel) {\r\n                model.pixiModel.hitAreaFrames.visible = value;\r\n            }\r\n        }\r\n    }\r\n\r\n    static get showHitAreaFrames(): boolean {\r\n        return this._showHitAreaFrames;\r\n    }\r\n}\r\n","\r\nimport Vue from 'vue';\r\nimport { ModelEntity } from '@/app/ModelEntity';\r\nimport { App } from '@/app/App';\r\n\r\nexport default Vue.extend({\r\n    name: \"ModelList\",\r\n    props: {\r\n        value: Number,\r\n        show: Boolean,\r\n    },\r\n    data: () => ({\r\n        models: [] as ModelEntity[],\r\n    }),\r\n    computed: {\r\n        paneHeight() {\r\n            return this.$vuetify.breakpoint.xl ? 192 : 144;\r\n        },\r\n        selectedIndex() {\r\n            return this.models.findIndex(model => model.id === this.value);\r\n        },\r\n    },\r\n    created() {\r\n        this.models = App.models;\r\n    },\r\n    methods: {\r\n        select(index: number) {\r\n            const id = this.models[index]?.id ?? 0;\r\n\r\n            this.$emit('input', id);\r\n        },\r\n        remove(id: number) {\r\n            if (this.models.length === 1) {\r\n                this.$emit('input', 0);\r\n            }\r\n\r\n            App.removeModel(id);\r\n        },\r\n    },\r\n});\r\n","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/ts-loader/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./ModelList.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/ts-loader/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./ModelList.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./ModelList.vue?vue&type=template&id=5ec9ee77&scoped=true&\"\nimport script from \"./ModelList.vue?vue&type=script&lang=ts&\"\nexport * from \"./ModelList.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./ModelList.vue?vue&type=style&index=0&id=5ec9ee77&prod&scoped=true&lang=stylus&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"5ec9ee77\",\n  null\n  \n)\n\nexport default component.exports","import { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardText } from 'vuetify/lib/components/VCard';\nimport { VDialog } from 'vuetify/lib/components/VDialog';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VImg } from 'vuetify/lib/components/VImg';\nimport { VSpacer } from 'vuetify/lib/components/VGrid';\nimport { VTextField } from 'vuetify/lib/components/VTextField';\nimport { VToolbar } from 'vuetify/lib/components/VToolbar';\nimport { VToolbarTitle } from 'vuetify/lib/components/VToolbar';\n\nvar render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c(VDialog,{attrs:{\"value\":_vm.value,\"width\":\"800\"},on:{\"input\":function($event){return _vm.$emit('input',$event)}}},[_c(VCard,[_c(VToolbar,{staticClass:\"flex-grow-0\",attrs:{\"color\":\"primary\",\"flat\":\"\",\"dense\":\"\"}},[_c(VToolbarTitle,[_vm._v(\"Create Model\")]),_c(VSpacer),_c(VBtn,{attrs:{\"icon\":\"\"},on:{\"click\":_vm.create}},[_c(VIcon,[_vm._v(\"mdi-checkbox-marked-circle-outline\")])],1)],1),_c(VCardText,{staticClass:\"pa-8\"},[_c(VTextField,{attrs:{\"single-line\":\"\",\"filled\":\"\",\"label\":\"URL\",\"messages\":_vm.urlMessages,\"error\":_vm.urlError},on:{\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\"))return null;return _vm.create.apply(null, arguments)}},model:{value:(_vm.url),callback:function ($$v) {_vm.url=$$v},expression:\"url\"}}),_c('div',{staticClass:\"d-flex align-center\"},[_c(VBtn,{attrs:{\"icon\":\"\",\"small\":\"\",\"color\":\"grey\"},on:{\"click\":function($event){_vm.dropHelpDialog=true}}},[_c(VIcon,{attrs:{\"size\":\"20\"}},[_vm._v(\"mdi-help-circle\")])],1),_c('span',[_vm._v(\"Drag and drop supported\")]),_c(VSpacer),_c(VBtn,{attrs:{\"color\":\"blue-grey\"},on:{\"click\":function($event){_vm.picker.dialog=true}}},[_vm._v(\"From source...\"),_c(VIcon,{attrs:{\"right\":\"\"}},[_vm._v(\" mdi-cloud-search\")])],1)],1)],1)],1),_c(VDialog,{attrs:{\"width\":\"1000\",\"max-width\":\"80vw\"},model:{value:(_vm.dropHelpDialog),callback:function ($$v) {_vm.dropHelpDialog=$$v},expression:\"dropHelpDialog\"}},[_c(VImg,{attrs:{\"src\":\"drop.jpg\"},on:{\"click\":function($event){_vm.dropHelpDialog=false}}})],1),_c('ModelPicker',{on:{\"select\":function($event){_vm.url=$event}},model:{value:(_vm.picker.dialog),callback:function ($$v) {_vm.$set(_vm.picker, \"dialog\", $$v)},expression:\"picker.dialog\"}})],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardActions } from 'vuetify/lib/components/VCard';\nimport { VChip } from 'vuetify/lib/components/VChip';\nimport { VCol } from 'vuetify/lib/components/VGrid';\nimport { VDialog } from 'vuetify/lib/components/VDialog';\nimport { VDivider } from 'vuetify/lib/components/VDivider';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VListItem } from 'vuetify/lib/components/VList';\nimport { VListItemContent } from 'vuetify/lib/components/VList';\nimport { VListItemGroup } from 'vuetify/lib/components/VList';\nimport { VListItemTitle } from 'vuetify/lib/components/VList';\nimport { VRow } from 'vuetify/lib/components/VGrid';\nimport { VSpacer } from 'vuetify/lib/components/VGrid';\nimport { VToolbar } from 'vuetify/lib/components/VToolbar';\nimport { VToolbarTitle } from 'vuetify/lib/components/VToolbar';\nimport { VTreeview } from 'vuetify/lib/components/VTreeview';\n\nvar render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c(VDialog,{attrs:{\"value\":_vm.value,\"width\":\"1500\",\"max-width\":\"90vw\"},on:{\"input\":function($event){return _vm.$emit('input',$event)}}},[_c(VCard,{staticClass:\"d-flex flex-column\",attrs:{\"height\":\"1000\",\"max-height\":\"90vh\"}},[_c(VToolbar,{staticClass:\"flex-grow-0\",attrs:{\"color\":\"primary\",\"flat\":\"\",\"dense\":\"\"}},[_c(VToolbarTitle,[_vm._v(\"Select a Model\")]),_c(VSpacer),_c(VBtn,{attrs:{\"icon\":\"\"},on:{\"click\":_vm.submit}},[_c(VIcon,[_vm._v(\"mdi-checkbox-marked-circle-outline\")])],1)],1),_c(VRow,{staticClass:\"content-row flex-grow-1\",attrs:{\"no-gutters\":\"\"}},[_c(VCol,{staticClass:\"content-col\"},[_c(VTreeview,{attrs:{\"activatable\":\"\",\"return-object\":\"\",\"load-children\":_vm.fetchModels,\"active\":_vm.activeFolders,\"items\":_vm.tree,\"item-key\":\"id\",\"open-on-click\":\"\"},on:{\"update:active\":function($event){$event.length&&(_vm.activeFolders=$event)},\"update:open\":_vm.folderOpened},scopedSlots:_vm._u([{key:\"prepend\",fn:function({ open }){return [_c(VIcon,[_vm._v(\" \"+_vm._s(open ? 'mdi-folder-open' : 'mdi-folder')+\" \")])]}},{key:\"label\",fn:function({ item }){return [_c('span',{class:{'text-decoration-line-through':item.error}},[_vm._v(_vm._s(item.name))]),_c(VChip,{staticClass:\"model-count ml-1 px-2 text--secondary\",attrs:{\"x-small\":\"\"}},[_vm._v(_vm._s(item.modelCount))])]}}])})],1),_c(VDivider,{attrs:{\"vertical\":\"\"}}),_c(VCol,{staticClass:\"content-col\"},[_c(VListItemGroup,{model:{value:(_vm.selectedFileIndex),callback:function ($$v) {_vm.selectedFileIndex=$$v},expression:\"selectedFileIndex\"}},_vm._l((_vm.activeFolderFiles),function(file,i){return _c(VListItem,{key:file,attrs:{\"color\":\"primary\"},nativeOn:{\"dblclick\":function($event){_vm.selectedFileIndex=i;_vm.submit()}}},[_c(VListItemContent,[_c(VListItemTitle,[_vm._v(_vm._s(file))])],1)],1)}),1)],1)],1),_c(VDivider),_c(VCardActions,[_c('span',{staticClass:\"text--secondary text-caption\"},[_vm._v(\"The listed models were scraped from \"),_c('a',{attrs:{\"target\":\"_blank\",\"href\":\"https://github.com/Eikanya/Live2d-model\"}},[_vm._v(\"Eikanya/Live2d-model\")]),_vm._v(\". All credit goes to their respective creators.\")])])],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\r\nimport Vue from 'vue';\r\nimport { xor } from 'lodash-es';\r\nimport { getFileURL, getRootNodes, loadRootNode, TreeNode } from '@/app/data';\r\n\r\nexport default Vue.extend({\r\n    name: \"ModelPicker\",\r\n    props: {\r\n        value: Boolean,\r\n    },\r\n\r\n    data: () => ({\r\n        search: '',\r\n        tree: getRootNodes(),\r\n\r\n        openedFolders: [] as TreeNode[],\r\n        activeFolders: [] as TreeNode[],\r\n        selectedFileIndex: -1,\r\n\r\n        alert: '',\r\n    }),\r\n    computed: {\r\n        activeFolderFiles() {\r\n            return this.activeFolders.length ? this.activeFolders[0].files || [] : [];\r\n        },\r\n    },\r\n    watch: {\r\n        activeFolders(value: TreeNode[], oldValue: TreeNode[]) {\r\n            const hasChanged = xor(value, oldValue).length !== 0;\r\n\r\n            if (hasChanged) {\r\n                this.selectedFileIndex = -1;\r\n            }\r\n        },\r\n        selectedFileIndex() {\r\n            this.alert = '';\r\n        },\r\n    },\r\n    created() {\r\n    },\r\n    methods: {\r\n        async fetchModels(node: TreeNode) {\r\n            await loadRootNode(node);\r\n        },\r\n        folderOpened(openedFolders: TreeNode[]) {\r\n            const diff = xor(openedFolders, this.openedFolders);\r\n\r\n            if (diff.length) {\r\n                this.activeFolders = diff.slice(0);\r\n                this.openedFolders = openedFolders;\r\n            } else {\r\n                this.activeFolders = this.tree.slice(0, 1);\r\n            }\r\n        },\r\n        submit() {\r\n            if (this.activeFolders.length && this.selectedFileIndex >= 0) {\r\n                const file = getFileURL(this.activeFolders[0], this.activeFolderFiles[this.selectedFileIndex]);\r\n\r\n                if (file) {\r\n                    this.$emit('select', file);\r\n                }\r\n            }\r\n\r\n            this.$emit('input', false);\r\n        },\r\n        log(...args: any[]) {\r\n            console.log(...args);\r\n        },\r\n    },\r\n});\r\n","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/ts-loader/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./ModelPicker.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/ts-loader/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./ModelPicker.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./ModelPicker.vue?vue&type=template&id=42aba127&scoped=true&\"\nimport script from \"./ModelPicker.vue?vue&type=script&lang=ts&\"\nexport * from \"./ModelPicker.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./ModelPicker.vue?vue&type=style&index=0&id=42aba127&prod&scoped=true&lang=stylus&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"42aba127\",\n  null\n  \n)\n\nexport default component.exports","\r\nimport Vue from 'vue';\r\nimport ModelPicker from './ModelPicker.vue';\r\nimport { validateURL } from '@/app/data';\r\nimport { App } from '@/app/App';\r\n\r\nexport default Vue.extend({\r\n    components: { ModelPicker },\r\n\r\n    name: \"ModelCreation\",\r\n    props: {\r\n        value: Boolean,\r\n    },\r\n    data: () => ({\r\n        url: 'https://cdn.jsdelivr.net/gh/Eikanya/Live2d-model/Live2D/Senko_Normals/senko.model3.json',\r\n\r\n        dropHelpDialog: false,\r\n\r\n        picker: {\r\n            dialog: false,\r\n        },\r\n\r\n        urlError: false,\r\n        urlMessages: [] as string[],\r\n    }),\r\n    watch: {\r\n        url(value) {\r\n            const message = validateURL(value) || '';\r\n\r\n            this.urlError = /error/i.test(message);\r\n            this.urlMessages = [message].filter(Boolean);\r\n        },\r\n    },\r\n    methods: {\r\n        create() {\r\n            this.url = this.url.replace(/\\s/, '');\r\n\r\n            if (!this.url) {\r\n                this.urlError = true;\r\n                this.urlMessages = ['Please enter a URL'];\r\n            }\r\n\r\n            if (this.urlError) {\r\n                return;\r\n            }\r\n\r\n            const id = App.addModel(this.url);\r\n\r\n            this.$emit('input', false);\r\n            this.$emit('create', id);\r\n        },\r\n    },\r\n});\r\n","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/ts-loader/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./ModelCreation.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/ts-loader/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./ModelCreation.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./ModelCreation.vue?vue&type=template&id=202c5692&scoped=true&\"\nimport script from \"./ModelCreation.vue?vue&type=script&lang=ts&\"\nexport * from \"./ModelCreation.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"202c5692\",\n  null\n  \n)\n\nexport default component.exports","import { VCheckbox } from 'vuetify/lib/components/VCheckbox';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VList } from 'vuetify/lib/components/VList';\nimport { VListGroup } from 'vuetify/lib/components/VList';\nimport { VListItem } from 'vuetify/lib/components/VList';\nimport { VListItemContent } from 'vuetify/lib/components/VList';\nimport { VListItemIcon } from 'vuetify/lib/components/VList';\nimport { VListItemTitle } from 'vuetify/lib/components/VList';\nimport { VProgressCircular } from 'vuetify/lib/components/VProgressCircular';\nimport { VSlider } from 'vuetify/lib/components/VSlider';\nimport { VSubheader } from 'vuetify/lib/components/VSubheader';\n\nvar render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return (_vm.model)?_c('div',{staticClass:\"model-editor\"},[(_vm.hasPixiModel)?_c(VList,{attrs:{\"expand\":\"\"}},[_c(VListGroup,{attrs:{\"value\":true},scopedSlots:_vm._u([{key:\"activator\",fn:function(){return [_c(VListItemContent,[_c(VListItemTitle,[_vm._v(\"Display\")])],1)]},proxy:true}],null,false,1435882642)},[_c(VListItem,[_c(VListItemContent,[_c('div',[_c(VSlider,{staticClass:\"mt-2\",attrs:{\"dense\":\"\",\"prepend-icon\":\"mdi-magnify\",\"messages\":String(_vm.model.scaleX),\"min\":\"0.01\",\"max\":\"3\",\"step\":\"0.01\"},model:{value:(_vm.model.scaleX),callback:function ($$v) {_vm.$set(_vm.model, \"scaleX\", $$v)},expression:\"model.scaleX\"}}),_c(VSlider,{staticClass:\"mt-2\",attrs:{\"dense\":\"\",\"prepend-icon\":\"mdi-rotate-right\",\"messages\":_vm.rotationDeg,\"min\":\"0\",\"max\":\"6.28\",\"step\":\"0.01\"},model:{value:(_vm.model.rotation),callback:function ($$v) {_vm.$set(_vm.model, \"rotation\", $$v)},expression:\"model.rotation\"}})],1)])],1)],1),_c(VListGroup,{attrs:{\"data-set\":_vm.motionCount=_vm.motionGroups.reduce((sum, { motions }) => sum + motions.length, 0),\"disabled\":!_vm.motionCount},scopedSlots:_vm._u([{key:\"activator\",fn:function(){return [_c(VListItemContent,[_c(VListItemTitle,{class:{'text--secondary':!_vm.motionCount}},[_vm._v(\"Motions (\"+_vm._s(_vm.motionCount)+\") \")])],1)]},proxy:true},{key:\"default\",fn:function(){return [_vm._l((_vm.motionGroups),function(motionGroup){return [_c(VSubheader,{key:motionGroup.name,staticClass:\"px-3\"},[_vm._v(_vm._s(motionGroup.name || '(Nameless)'))]),_vm._l((motionGroup.motions),function(motion,i){return _c(VListItem,{key:motionGroup.name+i,attrs:{\"ripple\":\"\",\"data-set\":_vm.active=_vm.motionState.currentGroup===motionGroup.name&&_vm.motionState.currentIndex===i,\"disabled\":!!motion.error},on:{\"click\":function($event){return _vm.startMotion(motionGroup,i)}}},[(_vm.active)?_c('div',{staticClass:\"motion-progress\"}):_vm._e(),_c(VListItemContent,{attrs:{\"title\":motion.file}},[_c(VListItemTitle,{class:{'primary--text':_vm.active,'text-decoration-line-through':motion.error}},[_vm._v(\" \"+_vm._s(motion.file.replace('.mtn', '').replace('.motion3.json', ''))+\" \")])],1),_c(VListItemIcon,{staticClass:\"my-0 align-self-center\"},[(_vm.active)?_c(VIcon,{attrs:{\"size\":\"32\",\"color\":\"primary\"}},[_vm._v(\"mdi-play\")]):((_vm.motionState.reservedGroup===motionGroup.name&&_vm.motionState.reservedIndex===i)\n                  ||(_vm.motionState.reservedIdleGroup===motionGroup.name&&_vm.motionState.reservedIdleIndex===i))?_c(VProgressCircular,{attrs:{\"indeterminate\":\"\",\"size\":\"20\",\"width\":\"2\"}}):_vm._e()],1)],1)})]})]},proxy:true}],null,false,3970018182),model:{value:(_vm.motionExpand),callback:function ($$v) {_vm.motionExpand=$$v},expression:\"motionExpand\"}}),_c(VListGroup,{attrs:{\"disabled\":!_vm.expressions.length},scopedSlots:_vm._u([{key:\"activator\",fn:function(){return [_c(VListItemContent,[_c(VListItemTitle,{class:{'text--secondary':!_vm.expressions.length}},[_vm._v(\"Expressions (\"+_vm._s(_vm.expressions.length)+\") \")])],1)]},proxy:true},{key:\"default\",fn:function(){return _vm._l((_vm.expressions),function(expression,i){return _c(VListItem,{key:i,attrs:{\"ripple\":\"\",\"data-set\":_vm.active=_vm.currentExpressionIndex===i,\"disabled\":!!expression.error},on:{\"click\":function($event){return _vm.setExpression(i)}}},[_c(VListItemContent,{attrs:{\"title\":expression.file}},[_c(VListItemTitle,{class:{'primary--text':_vm.active,'text-decoration-line-through':expression.error}},[_vm._v(\" \"+_vm._s(expression.file.replace('.exp.json', '').replace('.exp3.json', ''))+\" \")])],1),_c(VListItemIcon,{staticClass:\"my-0 align-self-center\"},[(_vm.active)?_c(VIcon,{attrs:{\"size\":\"28\",\"color\":\"primary\"}},[_vm._v(\"mdi-emoticon-outline\")]):(_vm.pendingExpressionIndex===i)?_c(VProgressCircular,{attrs:{\"indeterminate\":\"\",\"size\":\"20\",\"width\":\"2\"}}):_vm._e()],1)],1)})},proxy:true}],null,false,1007064366)}),_c(VListGroup,{scopedSlots:_vm._u([{key:\"activator\",fn:function(){return [_c(VListItemContent,[_c(VListItemTitle,[_vm._v(\"Filters\")])],1)]},proxy:true}],null,false,2196630299)},[_c('div',{staticClass:\"mt-3\"}),_vm._l((_vm.filters),function(filter){return _c(VCheckbox,{key:filter,staticClass:\"v-input--reverse mx-3 mt-0\",attrs:{\"label\":filter+(index=>index?` [${index}]`:'')(_vm.model.filters.indexOf(filter)+1),\"value\":filter},model:{value:(_vm.model.filters),callback:function ($$v) {_vm.$set(_vm.model, \"filters\", $$v)},expression:\"model.filters\"}})})],2)],1):[_c('pre',{staticClass:\"pa-3 text--secondary\"},[_vm._v(_vm._s(_vm.model.loadingState.text))]),(_vm.model.error)?_c('pre',{staticClass:\"error--text px-3 text-wrap\"},[_vm._v(_vm._s(_vm.model.error))]):_vm._e()]],2):_vm._e()\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\r\nimport { App } from '@/app/App';\r\nimport { Filter } from '@/app/Filter';\r\nimport { Live2DModel } from '@/app/Live2DModel';\r\nimport { ModelEntity } from '@/app/ModelEntity';\r\nimport { clamp } from 'lodash-es';\r\nimport { MotionPriority, MotionState } from 'pixi-live2d-display';\r\nimport Vue from 'vue';\r\n\r\ninterface MotionGroupEntry {\r\n    name: string\r\n    motions: {\r\n        file: string;\r\n        error?: any;\r\n    }[]\r\n}\r\n\r\ninterface ExpressionEntry {\r\n    file: string;\r\n    error?: any;\r\n}\r\n\r\nexport default Vue.extend({\r\n    name: 'ModelEditor',\r\n    props: {\r\n        id: {\r\n            type: Number,\r\n            default: 0,\r\n        },\r\n        visible: Boolean,\r\n    },\r\n    data: () => ({\r\n        model: null as ModelEntity | null | undefined,\r\n\r\n        motionExpand: false,\r\n        motionGroups: [] as MotionGroupEntry[],\r\n        motionState: null as MotionState | null | undefined,\r\n\r\n        motionProgressTimerID: -1,\r\n\r\n        expressions: [] as ExpressionEntry[],\r\n        currentExpressionIndex: -1,\r\n        pendingExpressionIndex: -1,\r\n\r\n        filters: Object.keys(Filter.filters),\r\n    }),\r\n    computed: {\r\n        hasPixiModel(): boolean {\r\n            return !!this.motionState;\r\n        },\r\n        rotationDeg(): string {\r\n            return Math.round((this.model?.rotation || 0) / Math.PI * 180) + '';\r\n        },\r\n    },\r\n    watch: {\r\n        id: {\r\n            immediate: true,\r\n            handler() {\r\n                this.updateModel();\r\n            },\r\n        },\r\n        'model.filters'() {\r\n            this.model?.updateFilters();\r\n        },\r\n\r\n        // immediately update progress when current motion has changed\r\n        'motionState.currentGroup': 'updateMotionProgress',\r\n    },\r\n    mounted() {\r\n        this.motionProgressTimerID = setInterval(this.updateMotionProgress, 50);\r\n    },\r\n    methods: {\r\n        updateModel() {\r\n            this.resetModel();\r\n\r\n            this.model = App.getModel(this.id);\r\n\r\n            if (this.model) {\r\n                if (this.model.pixiModel) {\r\n                    this.pixiModelLoaded(this.model.pixiModel);\r\n                } else {\r\n                    this.model.once('modelLoaded', this.pixiModelLoaded);\r\n                }\r\n            }\r\n        },\r\n        resetModel() {\r\n            if (this.model) {\r\n                this.model.off('modelLoaded', this.pixiModelLoaded);\r\n                this.model.pixiModel?.off('expressionSet', this.expressionSet);\r\n                this.model.pixiModel?.off('expressionReserved', this.expressionReserved);\r\n                this.model.pixiModel?.internalModel.motionManager?.off('motionLoadError', this.motionLoadError);\r\n                this.model.pixiModel?.internalModel.motionManager?.expressionManager?.off('expressionLoadError', this.expressionLoadError);\r\n\r\n                this.motionGroups = [];\r\n                this.motionState = undefined;\r\n                this.model = undefined;\r\n            }\r\n        },\r\n        pixiModelLoaded(pixiModel: Live2DModel) {\r\n            const motionManager = pixiModel.internalModel.motionManager;\r\n            const motionGroups: MotionGroupEntry[] = [];\r\n\r\n            const definitions = motionManager.definitions;\r\n\r\n            for (const [group, motions] of Object.entries(definitions)) {\r\n                motionGroups.push({\r\n                    name: group,\r\n                    motions: motions?.map((motion, index) => ({\r\n                        file: motion.file || motion.File || '',\r\n                        error: motionManager.motionGroups[group]![index]! === null ? 'Failed to load' : undefined,\r\n                    })) || [],\r\n                });\r\n            }\r\n\r\n            this.motionGroups = motionGroups;\r\n            this.motionState = motionManager.state;\r\n\r\n            const expressionManager = motionManager.expressionManager;\r\n            this.expressions = expressionManager?.definitions.map((expression, index) => ({\r\n                file: expression.file || expression.File || '',\r\n                error: expressionManager!.expressions[index]! === null ? 'Failed to load' : undefined,\r\n            })) || [];\r\n\r\n            this.currentExpressionIndex = expressionManager?.expressions.indexOf(expressionManager!.currentExpression) ?? -1;\r\n            this.pendingExpressionIndex = expressionManager?.reserveExpressionIndex ?? -1;\r\n\r\n            pixiModel.on('expressionSet', this.expressionSet);\r\n            pixiModel.on('expressionReserved', this.expressionReserved);\r\n            motionManager.on('motionLoadError', this.motionLoadError);\r\n            expressionManager?.on('expressionLoadError', this.expressionLoadError);\r\n        },\r\n        expressionSet(index: number) {\r\n            this.currentExpressionIndex = index;\r\n        },\r\n        expressionReserved(index: number) {\r\n            this.pendingExpressionIndex = index;\r\n        },\r\n        motionLoadError(group: string, index: number, error: any) {\r\n            const motionGroup = this.motionGroups.find(motionGroup => motionGroup.name === group);\r\n\r\n            if (motionGroup) {\r\n                motionGroup.motions[index]!.error = error;\r\n            }\r\n        },\r\n        expressionLoadError(index: number, error: any) {\r\n            this.expressions[index]!.error = error;\r\n        },\r\n        startMotion(motionGroup: MotionGroupEntry, index: number) {\r\n            this.model?.pixiModel?.motion(motionGroup.name, index, MotionPriority.FORCE);\r\n        },\r\n        setExpression(index: number) {\r\n            this.model?.pixiModel?.expression(index);\r\n        },\r\n        updateMotionProgress() {\r\n            if (!(this.model?.pixiModel && this.motionState?.currentGroup !== undefined && this.motionExpand && this.visible && this.$el)) {\r\n                return;\r\n            }\r\n\r\n            const startTime = this.model.pixiModel.currentMotionStartTime;\r\n            const duration = this.model.pixiModel.currentMotionDuration;\r\n            const progress = clamp((this.model.pixiModel.elapsedTime - startTime) / duration, 0, 1);\r\n\r\n            // using a CSS variable can be a lot faster than letting Vue update a style object bound to the element\r\n            // since that will cause the component to re-render\r\n            (this.$el as HTMLElement).style.setProperty('--progress', progress * 100 + '%');\r\n        },\r\n    },\r\n    beforeDestroy() {\r\n        this.resetModel();\r\n        clearInterval(this.motionProgressTimerID);\r\n    },\r\n});\r\n","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/ts-loader/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./ModelEditor.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/ts-loader/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./ModelEditor.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./ModelEditor.vue?vue&type=template&id=461e8bf9&scoped=true&\"\nimport script from \"./ModelEditor.vue?vue&type=script&lang=ts&\"\nexport * from \"./ModelEditor.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./ModelEditor.vue?vue&type=style&index=0&id=461e8bf9&prod&scoped=true&lang=stylus&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"461e8bf9\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('div',{class:['drop-zone', {active:_vm.draggingOver}]},[(_vm.draggingOver)?_c('div',{staticClass:\"text-h1\"},[_vm._v(\"Drop Files\")]):_vm._e()])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","export function nonNullableFilter<T extends any>(value: T, index: number, array: T[]): value is NonNullable<T> {\r\n    return value !== undefined && value !== null;\r\n}\r\n  ","import { nonNullableFilter } from './arr';\r\n\r\nexport function basename(path: string): string {\r\n    // https://stackoverflow.com/a/15270931\r\n    return path.split(/[\\\\/]/).pop()!;\r\n}\r\n\r\n/**\r\n * Checks if it's files being dragged at this drag event.\r\n *\r\n * @see https://stackoverflow.com/q/5323668/13237325\r\n */\r\nexport function isDraggingFile(event: DragEvent): boolean {\r\n    return !!event.dataTransfer?.types.some((type) => type === 'Files');\r\n}\r\n\r\nexport async function readFiles(dataTransferItemList: DataTransferItemList): Promise<File[]> {\r\n    const entries = [...dataTransferItemList].map((item) => item.webkitGetAsEntry()).filter(nonNullableFilter);\r\n\r\n    return readEntries(entries);\r\n}\r\n\r\nasync function readEntries(entries: FileSystemEntry[]): Promise<File[]> {\r\n    const files: File[] = [];\r\n\r\n    await Promise.all(\r\n        entries.map(async (entry) => {\r\n            if (entry.isFile) {\r\n                files.push(await readFileEntry(entry as FileSystemFileEntry));\r\n            } else if (entry.isDirectory) {\r\n                const subEntries = await readDirEntry(entry as FileSystemDirectoryEntry);\r\n\r\n                files.push(...(await readEntries(subEntries)));\r\n            }\r\n        })\r\n    );\r\n\r\n    return files;\r\n}\r\n\r\nfunction readDirEntry(dirEntry: FileSystemDirectoryEntry): Promise<FileSystemEntry[]> {\r\n    return new Promise((resolve, reject) => {\r\n        dirEntry.createReader().readEntries(resolve, reject);\r\n    });\r\n}\r\n\r\nasync function readFileEntry(fileEntry: FileSystemFileEntry): Promise<File> {\r\n    const file = await new Promise<File>((resolve, reject) => fileEntry.file(resolve, reject));\r\n\r\n    let relativePath = fileEntry.fullPath;\r\n\r\n    // relative path should just be relative...\r\n    if (relativePath.startsWith('/')) {\r\n        relativePath = relativePath.slice(1);\r\n    }\r\n\r\n    // let's borrow this property...\r\n    Object.defineProperty(file, 'webkitRelativePath', {\r\n        value: relativePath,\r\n    });\r\n\r\n    return file;\r\n}\r\n\r\nexport function readAsBase64(file: File): Promise<string> {\r\n    return new Promise<string>((resolve, reject) => {\r\n        const reader = new FileReader();\r\n        reader.onload = () => resolve(reader.result as string);\r\n        reader.onerror = reject;\r\n        reader.readAsDataURL(file);\r\n    });\r\n}\r\n","import { basename } from '@/utils/file';\r\nimport { Cubism2ModelSettings, Cubism4ModelSettings, FileLoader, ModelSettings } from 'pixi-live2d-display';\r\nimport { isMocFile, isMocFileV2, isSettingsFile } from './helpers';\r\n\r\nconst MAX_SETTINGS_FILES = 5;\r\n\r\nlet uid = 0;\r\n\r\nconst defaultCreateSettings = FileLoader.createSettings;\r\n\r\nFileLoader.createSettings = async (files: File[]) => {\r\n    if (!files.find(file => isSettingsFile(file.name))) {\r\n        return createFakeSettings(files);\r\n    }\r\n\r\n    return defaultCreateSettings(files);\r\n};\r\n\r\nexport async function uploadFiles(files: File[]): Promise<ModelSettings[]> {\r\n    if (files.length === 1 && files[0].name.endsWith('.zip')) {\r\n        // just let it go...\r\n        return [];\r\n    }\r\n\r\n    if (files.some(file => isSettingsFile(file.name))) {\r\n        return createSettings(files);\r\n    } else {\r\n        return [createFakeSettings(files)];\r\n    }\r\n}\r\n\r\nexport async function createSettings(files: File[]): Promise<ModelSettings[]> {\r\n    const settingsFiles: File[] = [];\r\n    const nonSettingsFiles: File[] = [];\r\n\r\n    for (const file of files) {\r\n        if (isSettingsFile(file.name)) {\r\n            settingsFiles.push(file);\r\n        } else {\r\n            nonSettingsFiles.push(file);\r\n        }\r\n    }\r\n\r\n    if (settingsFiles.length > MAX_SETTINGS_FILES) {\r\n        console.warn(`Too many settings files (${settingsFiles.length}/${MAX_SETTINGS_FILES})`);\r\n\r\n        settingsFiles.length = MAX_SETTINGS_FILES;\r\n    }\r\n\r\n    let error: unknown;\r\n\r\n    const settingsArray: ModelSettings[] = [];\r\n\r\n    await Promise.all(settingsFiles.map(\r\n        async settingsFile => {\r\n            try {\r\n                const partialFiles = [settingsFile, ...nonSettingsFiles];\r\n\r\n                const settings = await FileLoader.createSettings(partialFiles);\r\n\r\n                settings.validateFiles(partialFiles.map(file => file.webkitRelativePath));\r\n\r\n                settingsArray.push(settings);\r\n            } catch (e) {\r\n                // just care about the first error\r\n                error = error || e;\r\n\r\n                console.warn(e);\r\n            }\r\n        },\r\n    ));\r\n\r\n    // it's OK when there's at least one valid settings file\r\n    if (!settingsArray.length) {\r\n        throw error;\r\n    }\r\n\r\n    return settingsArray;\r\n}\r\n\r\nfunction createFakeSettings(files: File[]): ModelSettings {\r\n    const mocFiles = files.filter(file => isMocFile(file.name));\r\n\r\n    if (mocFiles.length !== 1) {\r\n        const fileList = mocFiles.length ? `(${mocFiles.map(f => `\"${f}\"`).join(',')})` : '';\r\n\r\n        throw new Error(`Expected exactly one moc file, got ${mocFiles.length} ${fileList}`);\r\n    }\r\n\r\n    const mocFile = mocFiles[0].webkitRelativePath;\r\n    const modelName = basename(mocFile).replace(/\\.moc3?/, '');\r\n\r\n    const filePaths = files.map(file => file.webkitRelativePath);\r\n\r\n    const textures = filePaths.filter(f => f.endsWith('.png'));\r\n\r\n    if (!textures.length) {\r\n        throw new Error('Textures not found');\r\n    }\r\n\r\n    const motions = filePaths.filter(f => f.endsWith('.mtn') || f.endsWith('.motion3.json'));\r\n    const physics = filePaths.find(f => f.includes('physics'));\r\n    const pose = filePaths.find(f => f.includes('pose'));\r\n\r\n    let settings: ModelSettings;\r\n\r\n    if (isMocFileV2(mocFile)) {\r\n        settings = new Cubism2ModelSettings({\r\n            url: modelName + '.model.json',\r\n            textures, pose, physics,\r\n            model: mocFile,\r\n            motions: motions.length\r\n                ? {\r\n                    '': motions.map(motion => ({ file: motion })),\r\n                }\r\n                : undefined,\r\n        });\r\n    } else {\r\n        settings = new Cubism4ModelSettings({\r\n            url: modelName + '.model3.json',\r\n            Version: 3,\r\n            FileReferences: {\r\n                Moc: mocFile,\r\n                Textures: textures,\r\n                Physics: physics,\r\n                Pose: pose,\r\n                Motions: motions.length\r\n                    ? {\r\n                        '': motions.map(motion => ({ File: motion })),\r\n                    }\r\n                    : undefined,\r\n            },\r\n        });\r\n    }\r\n\r\n    settings.name = modelName;\r\n\r\n    // provide this property for FileLoader\r\n    (settings as any)._objectURL = 'DontTouchMe://' + settings.url;\r\n\r\n    return settings;\r\n}\r\n","import { readAsBase64 } from '@/utils/file';\r\nimport { EventEmitter } from '@pixi/utils';\r\n\r\nconst BG_STORAGE_KEY = '_bg';\r\n\r\nexport namespace Background {\r\n    let currentObjectURL = '';\r\n\r\n    let styleElement: HTMLStyleElement | undefined;\r\n\r\n    export const emitter = new EventEmitter();\r\n\r\n    export let current: string = '';\r\n\r\n    export async function set(file: File) {\r\n        const objectURL = URL.createObjectURL(file);\r\n\r\n        document.body.style.backgroundImage = `url(${objectURL})`;\r\n\r\n        current = file.name;\r\n\r\n        emitter.emit('change', current);\r\n\r\n        currentObjectURL = objectURL;\r\n\r\n        const base64 = await readAsBase64(file);\r\n\r\n        if (currentObjectURL === objectURL) {\r\n            localStorage.setItem(BG_STORAGE_KEY, base64);\r\n        }\r\n\r\n        URL.revokeObjectURL(objectURL);\r\n    }\r\n\r\n    export function reset() {\r\n        current = '';\r\n        document.body.style.backgroundImage = '';\r\n        document.body.style.backgroundColor = '#222222';\r\n        localStorage.removeItem(BG_STORAGE_KEY);\r\n\r\n        if (styleElement) {\r\n            document.head.removeChild(styleElement);\r\n            styleElement = undefined;\r\n        }\r\n\r\n        emitter.emit('change', current);\r\n    }\r\n\r\n    function loadBackground() {\r\n        styleElement = document.createElement('style');\r\n\r\n        const dataURL = localStorage.getItem('_bg');\r\n\r\n        if (dataURL) {\r\n            styleElement.innerText = `body {background-image: url(${dataURL});}`;\r\n\r\n            current = '(local file)';\r\n        } else {\r\n            styleElement.innerText = `body {background-color: #222222;}`;\r\n        }\r\n\r\n        document.head.appendChild(styleElement);\r\n        document.body.style.backgroundSize = 'cover';\r\n    }\r\n\r\n    loadBackground();\r\n}\r\n","\r\nimport Vue from 'vue';\r\nimport { uploadFiles } from '@/app/upload';\r\nimport { isDraggingFile, readFiles } from '@/utils/file';\r\nimport { ExtendedFileList } from 'pixi-live2d-display';\r\nimport { Background } from '@/tools/Background';\r\nimport { App } from '@/app/App';\r\n\r\nexport default Vue.extend({\r\n    name: \"DropZone\",\r\n\r\n    data: () => ({\r\n        draggingOver: false,\r\n    }),\r\n    created() {\r\n        document.ondragenter = e => isDraggingFile(e) && (this.draggingOver = true);\r\n        document.ondragleave = e => isDraggingFile(e) && (this.draggingOver = !!e.relatedTarget);\r\n        document.ondragover = e => isDraggingFile(e) && e.preventDefault();\r\n        document.ondrop = e => isDraggingFile(e) && this.drop(e);\r\n    },\r\n    methods: {\r\n        async drop(e: DragEvent) {\r\n            e.preventDefault();\r\n\r\n            this.draggingOver = false;\r\n\r\n            if (e.dataTransfer?.items.length) {\r\n                const files = await readFiles(e.dataTransfer.items);\r\n\r\n                if (files.length === 1 && files[0].type.includes('image')) {\r\n                    Background.set(files[0]).catch(console.warn);\r\n                } else {\r\n                    this.uploadModel(files).then();\r\n                }\r\n            }\r\n        },\r\n        async uploadModel(files: File[]) {\r\n            try {\r\n                const settingsArray = await uploadFiles(files);\r\n\r\n                let id: number;\r\n\r\n                if (settingsArray.length) {\r\n                    for (const settings of settingsArray) {\r\n                        const fileList = files.slice() as ExtendedFileList;\r\n\r\n                        fileList.settings = settings;\r\n\r\n                        id = App.addModel(fileList);\r\n                    }\r\n                } else {\r\n                    id = App.addModel(files);\r\n                }\r\n\r\n                this.$emit('create', id!);\r\n            } catch (e) {\r\n                (e as Error).message = 'Failed to load model: ' + (e as Error).message;\r\n\r\n                this.$emit('error', e);\r\n            }\r\n        },\r\n    },\r\n});\r\n","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/ts-loader/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./DropZone.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/ts-loader/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./DropZone.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./DropZone.vue?vue&type=template&id=8eedab48&scoped=true&\"\nimport script from \"./DropZone.vue?vue&type=script&lang=ts&\"\nexport * from \"./DropZone.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./DropZone.vue?vue&type=style&index=0&id=8eedab48&prod&scoped=true&lang=stylus&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"8eedab48\",\n  null\n  \n)\n\nexport default component.exports","import { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VDivider } from 'vuetify/lib/components/VDivider';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VSlider } from 'vuetify/lib/components/VSlider';\nimport { VSpacer } from 'vuetify/lib/components/VGrid';\nimport { VSubheader } from 'vuetify/lib/components/VSubheader';\nimport { VSwitch } from 'vuetify/lib/components/VSwitch';\n\nvar render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('div',{staticClass:\"settings pa-3 flex-column flex-grow-1\"},[_c('div',[_c(VSlider,{staticClass:\"mt-4 mb-10\",attrs:{\"dense\":\"\",\"prepend-icon\":\"mdi-volume-high\",\"messages\":~~(_vm.volume*100)+'%',\"min\":\"0\",\"max\":\"1\",\"step\":\"0.02\"},model:{value:(_vm.volume),callback:function ($$v) {_vm.volume=$$v},expression:\"volume\"}}),_c(VSwitch,{staticClass:\"v-input--reverse\",attrs:{\"label\":\"Show hit area frames\"},model:{value:(_vm.hitAreaFrames),callback:function ($$v) {_vm.hitAreaFrames=$$v},expression:\"hitAreaFrames\"}}),_c(VSwitch,{staticClass:\"v-input--reverse\",attrs:{\"label\":\"Show model frames\"},model:{value:(_vm.modelFrame),callback:function ($$v) {_vm.modelFrame=$$v},expression:\"modelFrame\"}}),_c(VSwitch,{staticClass:\"v-input--reverse\",attrs:{\"label\":\"Show stats\"},model:{value:(_vm.stats),callback:function ($$v) {_vm.stats=$$v},expression:\"stats\"}}),(_vm.currentBackground)?[_c(VDivider),_c(VSubheader,{staticClass:\"px-0\"},[_vm._v(\"Background\")]),_c('div',{staticClass:\"mt-2 d-flex align-center\"},[_c('span',[_vm._v(_vm._s(_vm.currentBackground))]),_c(VSpacer),_c(VBtn,{attrs:{\"color\":\"secondary\"},on:{\"click\":_vm.resetBackground}},[_vm._v(\"Reset\")])],1)]:_vm._e()],2),_c(VSpacer),_c(VDivider),_c('div',{staticClass:\"pt-4 d-flex align-center\"},[_c(VIcon,{staticClass:\"mr-2\"},[_vm._v(\"mdi-github\")]),_vm._m(0)],1),_c('span',{staticClass:\"pt-4 body-2 text--secondary\"},[_vm._v(\"Last built: \"+_vm._s(_vm.lastUpdated))])],1)\n}\nvar staticRenderFns = [function (){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('span',[_vm._v(\"View source or report bugs on \"),_c('a',{staticClass:\"text-decoration-none\",attrs:{\"href\":\"https://github.com/guansss/live2d-viewer-web\"}},[_vm._v(\"GitHub\")])])\n}]\n\nexport { render, staticRenderFns }","\r\nimport Vue from 'vue';\r\nimport { Background } from '@/tools/Background';\r\nimport { App } from '@/app/App';\r\n\r\nexport default Vue.extend({\r\n    name: \"Settings\",\r\n    data: () => ({\r\n        volume: 0,\r\n        hitAreaFrames: false,\r\n        modelFrame: false,\r\n        stats: false,\r\n        lastUpdated: new Date(__BUILD_TIME__).toLocaleString(),\r\n        currentBackground: Background.current,\r\n    }),\r\n    watch: {\r\n        stats(value: boolean) {\r\n            App.showStats = value;\r\n        },\r\n        volume(value: number) {\r\n            App.volume = value;\r\n        },\r\n        hitAreaFrames(value: boolean) {\r\n            App.showHitAreaFrames = value;\r\n        },\r\n        modelFrame(value: boolean) {\r\n            App.showModelFrame = value;\r\n        },\r\n    },\r\n    created() {\r\n        this.stats = App.showStats;\r\n        this.volume = App.volume;\r\n        this.hitAreaFrames = App.showHitAreaFrames;\r\n        this.modelFrame = App.showModelFrame;\r\n\r\n        Background.emitter.on('change', this.backgroundChanged, this);\r\n    },\r\n    methods: {\r\n        resetBackground() {\r\n            Background.reset();\r\n        },\r\n        backgroundChanged(background: string) {\r\n            this.currentBackground = background;\r\n        },\r\n    },\r\n    beforeDestroy() {\r\n        Background.emitter.off('change', this.backgroundChanged);\r\n    },\r\n});\r\n","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/ts-loader/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Settings.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/ts-loader/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Settings.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./Settings.vue?vue&type=template&id=a947e286&scoped=true&\"\nimport script from \"./Settings.vue?vue&type=script&lang=ts&\"\nexport * from \"./Settings.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./Settings.vue?vue&type=style&index=0&id=a947e286&prod&scoped=true&lang=stylus&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"a947e286\",\n  null\n  \n)\n\nexport default component.exports","import { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardText } from 'vuetify/lib/components/VCard';\nimport { VDialog } from 'vuetify/lib/components/VDialog';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VSpacer } from 'vuetify/lib/components/VGrid';\nimport { VToolbar } from 'vuetify/lib/components/VToolbar';\nimport { VToolbarTitle } from 'vuetify/lib/components/VToolbar';\nimport { VTooltip } from 'vuetify/lib/components/VTooltip';\n\nvar render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c(VDialog,{attrs:{\"width\":\"1000\",\"max-width\":\"90vw\",\"value\":_vm.value},on:{\"input\":function($event){return _vm.$emit('input',$event)}}},[_c(VCard,{staticClass:\"d-flex flex-column\",attrs:{\"height\":\"90vh\"}},[_c(VToolbar,{staticClass:\"flex-grow-0\",attrs:{\"color\":\"primary\",\"flat\":\"\",\"dense\":\"\"}},[_c(VToolbarTitle,[_vm._v(\"Model Info\")]),_c(VSpacer),_c(VTooltip,{attrs:{\"bottom\":\"\"},scopedSlots:_vm._u([{key:\"activator\",fn:function({ on, attrs }){return [_c(VBtn,_vm._g(_vm._b({attrs:{\"icon\":\"\"},on:{\"click\":_vm.log}},'v-btn',attrs,false),on),[_c(VIcon,[_vm._v(\"mdi-console\")])],1)]}}])},[_c('span',[_vm._v(\"Print to console\")])]),_c(VBtn,{attrs:{\"icon\":\"\"},on:{\"click\":function($event){return _vm.$emit('input',false)}}},[_c(VIcon,[_vm._v(\"mdi-close\")])],1)],1),_c(VCardText,{staticClass:\"pa-8 overflow-auto\"},[_c('div',{staticClass:\"mb-6 text-no-wrap\"},[_vm._v(\"URL: \"+_vm._s(_vm.url))]),_c('pre',{staticClass:\"code\"},[_vm._v(_vm._s(_vm.settingsJSON))])])],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\r\nimport { App } from '@/app/App';\r\nimport Vue from 'vue';\r\n\r\nexport default Vue.extend({\r\n    name: \"ModelInfo\",\r\n    props: {\r\n        value: Boolean,\r\n        id: Number,\r\n    },\r\n    data: () => ({\r\n        url: '',\r\n        settingsJSON: '',\r\n    }),\r\n    watch: {\r\n        value(value: boolean) {\r\n            if (value) {\r\n                const model = App.getModel(this.id);\r\n                const settings = model?.pixiModel?.internalModel.settings;\r\n\r\n                this.url = model?.url || '';\r\n                this.settingsJSON = JSON.stringify(settings?.json || {}, null, 2);\r\n            }\r\n        },\r\n    },\r\n    methods: {\r\n        log() {\r\n            console.log(JSON.parse(this.settingsJSON));\r\n        },\r\n    },\r\n});\r\n","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/ts-loader/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./ModelInfo.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/ts-loader/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./ModelInfo.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./ModelInfo.vue?vue&type=template&id=5f9f4e32&scoped=true&\"\nimport script from \"./ModelInfo.vue?vue&type=script&lang=ts&\"\nexport * from \"./ModelInfo.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./ModelInfo.vue?vue&type=style&index=0&id=5f9f4e32&prod&scoped=true&lang=stylus&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"5f9f4e32\",\n  null\n  \n)\n\nexport default component.exports","\r\nimport Vue from 'vue';\r\nimport ModelList from './components/ModelList.vue';\r\nimport ModelCreation from './components/ModelCreation.vue';\r\nimport ModelEditor from '@/components/ModelEditor.vue';\r\nimport DropZone from '@/components/DropZone.vue';\r\nimport Settings from '@/components/Settings.vue';\r\nimport ModelInfo from '@/components/ModelInfo.vue';\r\nimport { Background } from '@/tools/Background';\r\nimport { App } from '@/app/App';\r\n\r\nexport default Vue.extend({\r\n    name: 'App',\r\n    components: { ModelList, ModelCreation, ModelEditor, DropZone, ModelInfo, Settings },\r\n    data: () => ({\r\n        drawer: true,\r\n        drawerSwitch: false,\r\n        loading: false,\r\n\r\n        tab: -1 as number | undefined,\r\n\r\n        modelList: {\r\n            visible: true,\r\n        },\r\n\r\n        selectedModelID: 0,\r\n\r\n        modelInfoDialog: false,\r\n\r\n        creation: {\r\n            dialog: false,\r\n            result: null,\r\n        },\r\n\r\n        snackbar: {\r\n            visible: false,\r\n            message: '',\r\n            timeout: 5000,\r\n        },\r\n    }),\r\n    computed: {\r\n        drawerWidth() {\r\n            return this.$vuetify.breakpoint.xl ? 450 : 360;\r\n        },\r\n        modelName() {\r\n            return App.getModel(this.selectedModelID)?.name || '';\r\n        },\r\n    },\r\n    methods: {\r\n        showUI(show: boolean) {\r\n            this.drawer = show;\r\n            this.modelList.visible = show;\r\n            this.drawerSwitch = false;\r\n        },\r\n        snack(message: string, timeout: number = 5000) {\r\n            this.snackbar.message = message;\r\n            this.snackbar.timeout = timeout;\r\n            this.snackbar.visible = true;\r\n        },\r\n        error(e: any) {\r\n            const message = e && e.message || e + '';\r\n\r\n            if (message) {\r\n                this.snack(message, -1);\r\n            }\r\n        },\r\n        log(...args: any[]) {\r\n            console.log(...args);\r\n        },\r\n    },\r\n    created() {\r\n        // switch to the default tab\r\n        this.tab = undefined;\r\n        this.creation.dialog = true;\r\n\r\n        if (!Background.current) {\r\n            this.snack('Drag and drop a local image to set the background!');\r\n        }\r\n    },\r\n});\r\n","import mod from \"-!../node_modules/thread-loader/dist/cjs.js!../node_modules/ts-loader/index.js??clonedRuleSet-40.use[1]!../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../node_modules/thread-loader/dist/cjs.js!../node_modules/ts-loader/index.js??clonedRuleSet-40.use[1]!../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./App.vue?vue&type=template&id=46b8a8cc&scoped=true&\"\nimport script from \"./App.vue?vue&type=script&lang=ts&\"\nexport * from \"./App.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./App.vue?vue&type=style&index=0&id=46b8a8cc&prod&scoped=true&lang=stylus&\"\nimport style1 from \"./App.vue?vue&type=style&index=1&id=46b8a8cc&prod&lang=stylus&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"46b8a8cc\",\n  null\n  \n)\n\nexport default component.exports","import Vue from 'vue';\r\nimport Vuetify from 'vuetify/lib';\r\n\r\nVue.use(Vuetify);\r\n\r\nexport default new Vuetify({\r\n    theme: {\r\n        dark: true,\r\n        options: {\r\n            customProperties: true,\r\n        },\r\n        themes: {\r\n            light: {\r\n                primary: '#ee44aa',\r\n                secondary: '#424242',\r\n                accent: '#82B1FF',\r\n                error: '#FF5252',\r\n                info: '#2196F3',\r\n                success: '#4CAF50',\r\n                warning: '#FFC107'\r\n            },\r\n        },\r\n    },\r\n});\r\n","import Vue from 'vue';\r\nimport VueApp from './App.vue';\r\nimport vuetify from './plugins/vuetify';\r\nimport { config } from 'pixi-live2d-display';\r\nimport { App } from '@/app/App';\r\n\r\nVue.config.productionTip = false;\r\n\r\nVue.directive('visible', function(el, binding) {\r\n    el.style.visibility = !!binding.value ? 'visible' : 'hidden';\r\n});\r\n\r\n(window as any).vueApp = new (Vue as any)({\r\n    vuetify,\r\n    render: (h: any) => h(VueApp),\r\n}).$mount('#app');\r\n\r\n(window as any).App = App;\r\n(window as any).config = config;\r\n\r\nconfig.logLevel = config.LOG_LEVEL_VERBOSE;\r\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\tid: moduleId,\n\t\tloaded: false,\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Flag the module as loaded\n\tmodule.loaded = true;\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","var deferred = [];\n__webpack_require__.O = function(result, chunkIds, fn, priority) {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar chunkIds = deferred[i][0];\n\t\tvar fn = deferred[i][1];\n\t\tvar priority = deferred[i][2];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every(function(key) { return __webpack_require__.O[key](chunkIds[j]); })) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = function(module) {\n\tvar getter = module && module.__esModule ?\n\t\tfunction() { return module['default']; } :\n\t\tfunction() { return module; };\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","// define __esModule on exports\n__webpack_require__.r = function(exports) {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","__webpack_require__.nmd = function(module) {\n\tmodule.paths = [];\n\tif (!module.children) module.children = [];\n\treturn module;\n};","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t143: 0\n};\n\n// no chunk on demand loading\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = function(chunkId) { return installedChunks[chunkId] === 0; };\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = function(parentChunkLoadingFunction, data) {\n\tvar chunkIds = data[0];\n\tvar moreModules = data[1];\n\tvar runtime = data[2];\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some(function(id) { return installedChunks[id] !== 0; })) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunklive2d_viewer_web\"] = self[\"webpackChunklive2d_viewer_web\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\nvar __webpack_exports__ = __webpack_require__.O(undefined, [998], function() { return __webpack_require__(700); })\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n"],"names":["render","_vm","this","_c","_self","_setupProxy","VApp","VNavigationDrawer","attrs","drawerWidth","on","$event","drawer","drawerSwitch","model","value","callback","$$v","expression","VToolbar","_v","VSpacer","VBtnToggle","tab","VBtn","VIcon","staticClass","showUI","directives","name","rawName","undefined","_s","selectedModelID","creation","dialog","VTooltip","scopedSlots","_u","key","fn","_g","_b","class","valid","modelInfoDialog","modelName","VDivider","VMain","style","paddingLeft","VContainer","modelList","visible","$set","error","VSnackbar","snackbar","timeout","message","staticRenderFns","V","show","models","length","VSheet","VItemGroup","selectedIndex","select","_l","i","VItem","id","active","toggle","VCard","VImg","thumbnail","paneHeight","aspectRatio","VRow","VProgressCircular","proxy","stopPropagation","remove","_e","async","ping","url","fetch","ok","e","isSettingsFileV2","file","endsWith","isSettingsFileV3","isSettingsFile","isMocFileV2","isMocFileV3","isMocFile","uid","JSDELIVR_PREFIX","tasks","Map","rootNodes","map","repo","children","files","modelCount","settingsJSONs","getRootNodes","loadRootNode","node","includes","Promise","resolve","get","task","toLowerCase","replace","then","res","json","data","traverseNode","n","countModels","Object","assign","settings","catch","set","child","getFileURL","folder","folderPath","getNodePath","filePath","encodeURI","getAlternativeURL","repoAndFile","names","split","slice","join","search","nodes","_node","subPath","validateURL","getSettingsJSON","mocURL","startsWith","mocFile","decodeURI","forEach","context","next","resolveURL","status","console","warn","urlToJSON","defaultInit","source","Error","json3","FileReferences","Moc","Motions","motionFile","File","json2","motions","jsonText","text","replaceJSONText","patchJSON","setSingleMotionAsIdle","log","live2dModel","emit","patch","patches","patchInternalModel","internalModel","call","textures","Array","isArray","realArray","values","tex","extractCubism2IdleMotions","idle","motion0","fileExists","Textures","tex0Exists","push","extractCubism4IdleMotions","correctTexture","texture","all","motionGroup","motion","filter","Idle","prop","keys","snakeCase","toUpperCase","removeSoundDefs","keywords","idleMotions","group","entries","keyword","unionBy","sound","jsZip","path","paths","relativePath","fileName","lastIndexOf","blob","Filter","target","filterNames","filters","update","dt","Noise","seed","Math","random","CRT","time","release","Outline","Pixelate","lineWidth","lineContrast","vignetting","Ascii","Alpha","Live2DModel","constructor","super","backgroundVisible","currentMotionStartTime","performance","now","currentMotionDuration","hitAreaFrames","background","alpha","once","_init","addChild","width","height","anchor","startHitMotion","motionManager","index","elapsedTime","motionGroups","_loopDurationSeconds","getDurationMSec","expressionManager","originalStartMotion","_setExpression","expressions","indexOf","reserveExpressionIndex","defineProperty","hitAreaNames","area","possibleGroups","possibleGroup","definitions","updateTransform","_render","renderer","destroy","options","draggable","_model","onPointerDown","onPointerMove","onPointerUp","dragging","_pointerX","global","x","_pointerY","y","position","StageState","factoryContext","ModelLoadingState","stages","settingsJSON","PENDING","NOT_AVAILABLE","pose","physics","updateText","watch","complete","stage","COMPLETED","state","mark","FAILED","lowerCase","Boolean","THUMBNAIL","ModelEntity","_scaleX","_scaleY","_rotation","_zIndex","loadingState","loadModel","pixiModel","modelLoaded","updateFilters","initThumbnail","hitAreaFramesVisible","canvas","plugins","extract","toBlob","URL","createObjectURL","fit","scale","min","round","scaleX","scaleY","rotate","rotation","setZIndex","zIndex","setVisible","revokeObjectURL","save","propertyKey","descriptor","saveValue","loadValue","localStorage","setItem","JSON","stringify","defaultValue","getItem","parse","PixiApp","stats","view","document","getElementById","resizeTo","window","antialias","backgroundAlpha","ticker","add","begin","deltaMS","end","showPanel","dom","left","right","App","static","pixiApp","initModel","find","m","showModelFrame","showHitAreaFrames","splice","removeChild","showStats","_showStats","body","appendChild","parentElement","volume","_volume","_showModelFrame","_showHitAreaFrames","props","Number","computed","$vuetify","breakpoint","xl","findIndex","created","methods","$emit","removeModel","component","VDialog","create","VTextField","urlMessages","urlError","type","_k","keyCode","apply","arguments","dropHelpDialog","picker","submit","VCol","VTreeview","fetchModels","activeFolders","tree","folderOpened","open","item","VChip","VListItemGroup","selectedFileIndex","VListItem","nativeOn","VList","openedFolders","alert","activeFolderFiles","oldValue","hasChanged","xor","diff","args","components","ModelPicker","test","addModel","VListGroup","VSlider","String","rotationDeg","motionCount","reduce","sum","VSubheader","motionState","currentGroup","currentIndex","startMotion","VListItemIcon","reservedGroup","reservedIndex","reservedIdleGroup","reservedIdleIndex","motionExpand","currentExpressionIndex","setExpression","pendingExpressionIndex","VCheckbox","default","motionProgressTimerID","hasPixiModel","PI","immediate","handler","updateModel","mounted","setInterval","updateMotionProgress","resetModel","getModel","pixiModelLoaded","off","expressionSet","expressionReserved","motionLoadError","expressionLoadError","currentExpression","$el","startTime","duration","progress","clamp","setProperty","beforeDestroy","clearInterval","draggingOver","nonNullableFilter","array","basename","pop","isDraggingFile","event","dataTransfer","types","some","readFiles","dataTransferItemList","webkitGetAsEntry","readEntries","entry","isFile","readFileEntry","isDirectory","subEntries","readDirEntry","dirEntry","reject","createReader","fileEntry","fullPath","readAsBase64","reader","FileReader","onload","result","onerror","readAsDataURL","MAX_SETTINGS_FILES","defaultCreateSettings","uploadFiles","createSettings","createFakeSettings","settingsFiles","nonSettingsFiles","settingsArray","settingsFile","partialFiles","validateFiles","webkitRelativePath","mocFiles","fileList","f","filePaths","Version","Physics","Pose","_objectURL","BG_STORAGE_KEY","Background","styleElement","currentObjectURL","objectURL","backgroundImage","current","emitter","base64","reset","backgroundColor","removeItem","head","loadBackground","createElement","dataURL","innerText","backgroundSize","ondragenter","ondragleave","relatedTarget","ondragover","preventDefault","ondrop","drop","items","uploadModel","VSwitch","modelFrame","currentBackground","resetBackground","_m","lastUpdated","Date","toLocaleString","backgroundChanged","ModelList","ModelCreation","ModelEditor","DropZone","ModelInfo","Settings","loading","snack","theme","dark","customProperties","themes","light","primary","secondary","accent","info","success","warning","el","binding","visibility","vueApp","vuetify","h","$mount","config","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","exports","module","loaded","__webpack_modules__","deferred","O","chunkIds","priority","notFulfilled","Infinity","fulfilled","j","every","r","getter","__esModule","d","a","definition","o","enumerable","g","globalThis","Function","obj","prototype","hasOwnProperty","Symbol","toStringTag","nmd","installedChunks","chunkId","webpackJsonpCallback","parentChunkLoadingFunction","moreModules","runtime","chunkLoadingGlobal","self","bind","__webpack_exports__"],"sourceRoot":""}